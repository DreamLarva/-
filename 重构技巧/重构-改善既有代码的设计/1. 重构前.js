"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MovieType;
(function (MovieType) {
    MovieType[MovieType["REGULAR"] = 0] = "REGULAR";
    MovieType[MovieType["NEW_RELEASE"] = 1] = "NEW_RELEASE";
    MovieType[MovieType["CHILDRENS"] = 2] = "CHILDRENS";
})(MovieType || (MovieType = {}));
let Movie = /** @class */ (() => {
    class Movie {
        constructor(title, priceCode) {
            this._title = title;
            this._priceCode = priceCode;
        }
        getPriceCode() {
            return this._priceCode;
        }
        setPriceCode(arg) {
            this._priceCode = arg;
        }
        getTitle() {
            return this._title;
        }
    }
    Movie.REGULAR = MovieType.REGULAR;
    Movie.NEW_RELEASE = MovieType.NEW_RELEASE;
    Movie.CHILDRENS = MovieType.CHILDRENS;
    return Movie;
})();
class Rental {
    constructor(movie, daysRented) {
        this._movie = movie;
        this._daysRented = daysRented;
    }
    getDaysRented() {
        return this._daysRented;
    }
    getMovie() {
        return this._movie;
    }
}
class Customer {
    constructor(name) {
        this._name = name;
        this._rentals = [];
    }
    addRental(arg) {
        this._rentals.push(arg);
    }
    getName() {
        return this._name;
    }
    statement() {
        let totalAmount = 0;
        let frequentRenterPoints = 0;
        let result = `Rental Record for ${this.getName()} \n`;
        this._rentals.forEach(each => {
            let thisAmount = 0;
            // determine amounts for each line
            switch (each.getMovie().getPriceCode()) {
                case Movie.REGULAR:
                    thisAmount += 2;
                    if (each.getDaysRented() > 2) {
                        thisAmount += (each.getDaysRented() - 2) * 1.5;
                    }
                    break;
                case Movie.NEW_RELEASE:
                    thisAmount += each.getDaysRented() * 3;
                    break;
                case Movie.CHILDRENS:
                    thisAmount += 1.5;
                    if (each.getDaysRented() > 3) {
                        thisAmount += (each.getDaysRented() - 3) * 1.5;
                    }
                    break;
            }
            //add frequent renter points
            frequentRenterPoints++;
            // add bonus for two day new release rental
            if (each.getMovie().getPriceCode() === Movie.NEW_RELEASE && each.getDaysRented() > 1) {
                frequentRenterPoints++;
            }
            result += `\t ${each.getMovie().getTitle()} \t ${thisAmount} \n`;
            totalAmount += thisAmount;
        });
        // add footer lines
        result += `Amount owed is ${totalAmount} \n`;
        result += `You earned ${frequentRenterPoints} frequentRenterPoints`;
        return result;
    }
}
let movieA = new Movie("Dota2", 1);
let rentalA = new Rental(movieA, 100);
let customerA = new Customer("Agent47");
customerA.addRental(rentalA);
console.log(customerA.statement());
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS4g6YeN5p6E5YmNLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyLph43mnoTmioDlt6cv6YeN5p6ELeaUueWWhOaXouacieS7o+eggeeahOiuvuiuoS8xLiDph43mnoTliY0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFLLFNBSUo7QUFKRCxXQUFLLFNBQVM7SUFDViwrQ0FBTyxDQUFBO0lBQ1AsdURBQVcsQ0FBQTtJQUNYLG1EQUFTLENBQUE7QUFDYixDQUFDLEVBSkksU0FBUyxLQUFULFNBQVMsUUFJYjtBQUVEO0lBQUEsTUFBTSxLQUFLO1FBUVAsWUFBWSxLQUFhLEVBQUUsU0FBaUI7WUFDeEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDaEMsQ0FBQztRQUVNLFlBQVk7WUFDZixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDM0IsQ0FBQztRQUVNLFlBQVksQ0FBQyxHQUFjO1lBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQzFCLENBQUM7UUFFTSxRQUFRO1lBQ1gsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLENBQUM7O0lBdEJNLGFBQU8sR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDO0lBQzVCLGlCQUFXLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztJQUNwQyxlQUFTLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQztJQXFCM0MsWUFBQztLQUFBO0FBRUQsTUFBTSxNQUFNO0lBSVIsWUFBWSxLQUFZLEVBQUUsVUFBa0I7UUFDeEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7SUFDbEMsQ0FBQztJQUVNLGFBQWE7UUFDaEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzVCLENBQUM7SUFFTSxRQUFRO1FBQ1gsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7Q0FDSjtBQUVELE1BQU0sUUFBUTtJQUlWLFlBQVksSUFBWTtRQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRU0sU0FBUyxDQUFDLEdBQVc7UUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVNLE9BQU87UUFDVixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVNLFNBQVM7UUFDWixJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDcEIsSUFBSSxvQkFBb0IsR0FBRyxDQUFDLENBQUM7UUFDN0IsSUFBSSxNQUFNLEdBQUcscUJBQXFCLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDO1FBQ3RELElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3pCLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztZQUNuQixrQ0FBa0M7WUFDbEMsUUFBUSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsWUFBWSxFQUFFLEVBQUU7Z0JBQ3BDLEtBQUssS0FBSyxDQUFDLE9BQU87b0JBQ2QsVUFBVSxJQUFJLENBQUMsQ0FBQztvQkFDaEIsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxFQUFFO3dCQUMxQixVQUFVLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO3FCQUNsRDtvQkFDRCxNQUFNO2dCQUNWLEtBQUssS0FBSyxDQUFDLFdBQVc7b0JBQ2xCLFVBQVUsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUN2QyxNQUFNO2dCQUNWLEtBQUssS0FBSyxDQUFDLFNBQVM7b0JBQ2hCLFVBQVUsSUFBSSxHQUFHLENBQUM7b0JBQ2xCLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsRUFBRTt3QkFDMUIsVUFBVSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztxQkFDbEQ7b0JBQ0QsTUFBTTthQUViO1lBRUQsNEJBQTRCO1lBQzVCLG9CQUFvQixFQUFFLENBQUM7WUFDdkIsMkNBQTJDO1lBQzNDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLFlBQVksRUFBRSxLQUFLLEtBQUssQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsRUFBRTtnQkFDbEYsb0JBQW9CLEVBQUUsQ0FBQzthQUMxQjtZQUNELE1BQU0sSUFBSSxNQUFNLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxVQUFVLEtBQUssQ0FBQztZQUNqRSxXQUFXLElBQUksVUFBVSxDQUFDO1FBQzlCLENBQUMsQ0FBQyxDQUFDO1FBRUgsbUJBQW1CO1FBQ25CLE1BQU0sSUFBSSxrQkFBa0IsV0FBVyxLQUFLLENBQUM7UUFDN0MsTUFBTSxJQUFJLGNBQWMsb0JBQW9CLHVCQUF1QixDQUFDO1FBQ3BFLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7Q0FHSjtBQUVELElBQUksTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuQyxJQUFJLE9BQU8sR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDdEMsSUFBSSxTQUFTLEdBQUcsSUFBSSxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDeEMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUU3QixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZW51bSBNb3ZpZVR5cGUge1xyXG4gICAgUkVHVUxBUixcclxuICAgIE5FV19SRUxFQVNFLFxyXG4gICAgQ0hJTERSRU5TXHJcbn1cclxuXHJcbmNsYXNzIE1vdmllIHtcclxuICAgIHN0YXRpYyBSRUdVTEFSID0gTW92aWVUeXBlLlJFR1VMQVI7XHJcbiAgICBzdGF0aWMgTkVXX1JFTEVBU0UgPSBNb3ZpZVR5cGUuTkVXX1JFTEVBU0U7XHJcbiAgICBzdGF0aWMgQ0hJTERSRU5TID0gTW92aWVUeXBlLkNISUxEUkVOUztcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF90aXRsZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfcHJpY2VDb2RlOiBNb3ZpZVR5cGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZywgcHJpY2VDb2RlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuX3ByaWNlQ29kZSA9IHByaWNlQ29kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UHJpY2VDb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcmljZUNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFByaWNlQ29kZShhcmc6IE1vdmllVHlwZSkge1xyXG4gICAgICAgIHRoaXMuX3ByaWNlQ29kZSA9IGFyZztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFJlbnRhbCB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9tb3ZpZTogTW92aWU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9kYXlzUmVudGVkOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW92aWU6IE1vdmllLCBkYXlzUmVudGVkOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9tb3ZpZSA9IG1vdmllO1xyXG4gICAgICAgIHRoaXMuX2RheXNSZW50ZWQgPSBkYXlzUmVudGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREYXlzUmVudGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXlzUmVudGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNb3ZpZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbW92aWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEN1c3RvbWVyIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgX3JlbnRhbHM6IEFycmF5PFJlbnRhbD47XHJcblxyXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcmVudGFscyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRSZW50YWwoYXJnOiBSZW50YWwpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9yZW50YWxzLnB1c2goYXJnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGVtZW50KCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHRvdGFsQW1vdW50ID0gMDtcclxuICAgICAgICBsZXQgZnJlcXVlbnRSZW50ZXJQb2ludHMgPSAwO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBgUmVudGFsIFJlY29yZCBmb3IgJHt0aGlzLmdldE5hbWUoKX0gXFxuYDtcclxuICAgICAgICB0aGlzLl9yZW50YWxzLmZvckVhY2goZWFjaCA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0aGlzQW1vdW50ID0gMDtcclxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGFtb3VudHMgZm9yIGVhY2ggbGluZVxyXG4gICAgICAgICAgICBzd2l0Y2ggKGVhY2guZ2V0TW92aWUoKS5nZXRQcmljZUNvZGUoKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNb3ZpZS5SRUdVTEFSOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNBbW91bnQgKz0gMjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWFjaC5nZXREYXlzUmVudGVkKCkgPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNBbW91bnQgKz0gKGVhY2guZ2V0RGF5c1JlbnRlZCgpIC0gMikgKiAxLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNb3ZpZS5ORVdfUkVMRUFTRTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzQW1vdW50ICs9IGVhY2guZ2V0RGF5c1JlbnRlZCgpICogMztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTW92aWUuQ0hJTERSRU5TOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNBbW91bnQgKz0gMS41O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlYWNoLmdldERheXNSZW50ZWQoKSA+IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0Ftb3VudCArPSAoZWFjaC5nZXREYXlzUmVudGVkKCkgLSAzKSAqIDEuNTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2FkZCBmcmVxdWVudCByZW50ZXIgcG9pbnRzXHJcbiAgICAgICAgICAgIGZyZXF1ZW50UmVudGVyUG9pbnRzKys7XHJcbiAgICAgICAgICAgIC8vIGFkZCBib251cyBmb3IgdHdvIGRheSBuZXcgcmVsZWFzZSByZW50YWxcclxuICAgICAgICAgICAgaWYgKGVhY2guZ2V0TW92aWUoKS5nZXRQcmljZUNvZGUoKSA9PT0gTW92aWUuTkVXX1JFTEVBU0UgJiYgZWFjaC5nZXREYXlzUmVudGVkKCkgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBmcmVxdWVudFJlbnRlclBvaW50cysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBgXFx0ICR7ZWFjaC5nZXRNb3ZpZSgpLmdldFRpdGxlKCl9IFxcdCAke3RoaXNBbW91bnR9IFxcbmA7XHJcbiAgICAgICAgICAgIHRvdGFsQW1vdW50ICs9IHRoaXNBbW91bnQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGFkZCBmb290ZXIgbGluZXNcclxuICAgICAgICByZXN1bHQgKz0gYEFtb3VudCBvd2VkIGlzICR7dG90YWxBbW91bnR9IFxcbmA7XHJcbiAgICAgICAgcmVzdWx0ICs9IGBZb3UgZWFybmVkICR7ZnJlcXVlbnRSZW50ZXJQb2ludHN9IGZyZXF1ZW50UmVudGVyUG9pbnRzYDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmxldCBtb3ZpZUEgPSBuZXcgTW92aWUoXCJEb3RhMlwiLCAxKTtcclxubGV0IHJlbnRhbEEgPSBuZXcgUmVudGFsKG1vdmllQSwgMTAwKTtcclxubGV0IGN1c3RvbWVyQSA9IG5ldyBDdXN0b21lcihcIkFnZW50NDdcIik7XHJcbmN1c3RvbWVyQS5hZGRSZW50YWwocmVudGFsQSk7XHJcblxyXG5jb25zb2xlLmxvZyhjdXN0b21lckEuc3RhdGVtZW50KCkpO1xyXG5cclxuXHJcbmV4cG9ydCB7fTtcclxuXHJcbiJdfQ==