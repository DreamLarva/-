"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 散列表的呈现是一个二维数组
 * 发生碰撞的内容依次推入对应的数组中
 *
 * 如果数组的大小是待存储数据个数的 1.5 倍，那么使用开链法；
 * 如果数组的大小是待存储数据的两倍及两倍以上时，那么使用线性探测法
 * */
class HashTable {
    constructor() {
        this.table = new Array(137);
    }
    // 储存一个数据
    put(data) {
        const pos = this.betterHash(data);
        if (this.table[pos]) {
            this.table[pos].push(data);
        }
        else {
            this.table[pos] = [data];
        }
    }
    // 储存多个数据
    putArr(arr) {
        arr.forEach(v => {
            this.put(v);
        });
    }
    ;
    // 打印所有数据
    showDistro() {
        for (let i = 0; i < this.table.length; ++i) {
            if (this.table[i] != undefined) {
                this.table[i].forEach(value => {
                    console.log(i + " : " + value);
                });
            }
        }
    }
    ;
    // 霍纳算法 更好的解决碰撞
    betterHash(string) {
        const H = 31;
        let total = 0;
        for (let i = 0; i < string.length; ++i) {
            total += H * total + string.charCodeAt(i);
        }
        total = total % this.table.length;
        if (total < 0) {
            total += this.table.length - 1;
        }
        return Math.floor(total);
    }
    ;
    get(key) {
        const pos = this.betterHash(key);
        if (!this.table[pos]) {
            return false;
        }
        else if (this.table[pos].length === 1) {
            return this.table[pos];
        }
        else {
            return this.table[pos].filter(v => v === key) || false;
        }
    }
    ;
}
const T = new HashTable();
T.putArr(["David", "Jennifer", "Donnie", "Donnie", "Raymond", "Cynthia", "Mike", "Clayton", "Danny", "Jonathan"]);
T.showDistro();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoi5pWj5YiXLeW8gOmTvuazlS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsi5pWw5o2u57uT5p6EL+aVo+WIly3lvIDpk77ms5UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7O0tBTUs7QUFDTCxNQUFNLFNBQVM7SUFBZjtRQUNJLFVBQUssR0FBZSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQXdEdkMsQ0FBQztJQXRERyxTQUFTO0lBQ1QsR0FBRyxDQUFDLElBQVk7UUFDWixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM5QjthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO0lBQ0wsQ0FBQztJQUVELFNBQVM7SUFDVCxNQUFNLENBQUMsR0FBYTtRQUNoQixHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ1osSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQixDQUFDLENBQUMsQ0FBQztJQUVQLENBQUM7SUFBQSxDQUFDO0lBRUYsU0FBUztJQUNULFVBQVU7UUFDTixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDeEMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLFNBQVMsRUFBRTtnQkFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztnQkFDbkMsQ0FBQyxDQUFDLENBQUM7YUFDTjtTQUNKO0lBQ0wsQ0FBQztJQUFBLENBQUM7SUFFRixlQUFlO0lBQ2YsVUFBVSxDQUFDLE1BQWM7UUFDckIsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDcEMsS0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM3QztRQUNELEtBQUssR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDbEMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFO1lBQ1gsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztTQUNsQztRQUNELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBQUEsQ0FBQztJQUVGLEdBQUcsQ0FBQyxHQUFXO1FBQ1gsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNsQixPQUFPLEtBQUssQ0FBQztTQUNoQjthQUFNLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3JDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMxQjthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUM7U0FDMUQ7SUFDTCxDQUFDO0lBQUEsQ0FBQztDQUVMO0FBR0QsTUFBTSxDQUFDLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQztBQUMxQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztBQUNsSCxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOaVo+WIl+ihqOeahOWRiOeOsOaYr+S4gOS4quS6jOe7tOaVsOe7hFxuICog5Y+R55Sf56Kw5pKe55qE5YaF5a655L6d5qyh5o6o5YWl5a+55bqU55qE5pWw57uE5LitXG4gKlxuICog5aaC5p6c5pWw57uE55qE5aSn5bCP5piv5b6F5a2Y5YKo5pWw5o2u5Liq5pWw55qEIDEuNSDlgI3vvIzpgqPkuYjkvb/nlKjlvIDpk77ms5XvvJtcbiAqIOWmguaenOaVsOe7hOeahOWkp+Wwj+aYr+W+heWtmOWCqOaVsOaNrueahOS4pOWAjeWPiuS4pOWAjeS7peS4iuaXtu+8jOmCo+S5iOS9v+eUqOe6v+aAp+aOoua1i+azlVxuICogKi9cbmNsYXNzIEhhc2hUYWJsZSB7XG4gICAgdGFibGU6IHN0cmluZ1tdW10gPSBuZXcgQXJyYXkoMTM3KTtcblxuICAgIC8vIOWCqOWtmOS4gOS4quaVsOaNrlxuICAgIHB1dChkYXRhOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5iZXR0ZXJIYXNoKGRhdGEpO1xuICAgICAgICBpZiAodGhpcy50YWJsZVtwb3NdKSB7XG4gICAgICAgICAgICB0aGlzLnRhYmxlW3Bvc10ucHVzaChkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFibGVbcG9zXSA9IFtkYXRhXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWCqOWtmOWkmuS4quaVsOaNrlxuICAgIHB1dEFycihhcnI6IHN0cmluZ1tdKSB7XG4gICAgICAgIGFyci5mb3JFYWNoKHYgPT4geyAvLyDnrq3lpLTlh73mlbDnu5HlrprkuobkvZznlKjln59cbiAgICAgICAgICAgIHRoaXMucHV0KHYpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvLyDmiZPljbDmiYDmnInmlbDmja5cbiAgICBzaG93RGlzdHJvKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFibGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlW2ldICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFibGVbaV0uZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGkgKyBcIiA6IFwiICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIOmcjee6s+eul+azlSDmm7Tlpb3nmoTop6PlhrPnorDmkp5cbiAgICBiZXR0ZXJIYXNoKHN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IEggPSAzMTtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRvdGFsICs9IEggKiB0b3RhbCArIHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsID0gdG90YWwgJSB0aGlzLnRhYmxlLmxlbmd0aDtcbiAgICAgICAgaWYgKHRvdGFsIDwgMCkge1xuICAgICAgICAgICAgdG90YWwgKz0gdGhpcy50YWJsZS5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRvdGFsKTtcbiAgICB9O1xuXG4gICAgZ2V0KGtleTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuYmV0dGVySGFzaChrZXkpO1xuICAgICAgICBpZiAoIXRoaXMudGFibGVbcG9zXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFibGVbcG9zXS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlW3Bvc107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZVtwb3NdLmZpbHRlcih2ID0+IHYgPT09IGtleSkgfHwgZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG59XG5cblxuY29uc3QgVCA9IG5ldyBIYXNoVGFibGUoKTtcblQucHV0QXJyKFtcIkRhdmlkXCIsIFwiSmVubmlmZXJcIiwgXCJEb25uaWVcIiwgXCJEb25uaWVcIiwgXCJSYXltb25kXCIsIFwiQ3ludGhpYVwiLCBcIk1pa2VcIiwgXCJDbGF5dG9uXCIsIFwiRGFubnlcIiwgXCJKb25hdGhhblwiXSk7XG5ULnNob3dEaXN0cm8oKTtcblxuZXhwb3J0IHt9O1xuIl19