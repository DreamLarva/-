"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const insertionSort_1 = __importDefault(require("./insertionSort"));
const selectionSort_1 = __importDefault(require("./selectionSort"));
const bubbleSort_1 = __importDefault(require("./bubbleSort"));
const mergeSort_1 = __importDefault(require("./mergeSort"));
const shellSort_1 = require("./shellSort");
const quickSort_1 = require("./quickSort");
// 测试用随机数组
function generateRandomArr(length) {
    const arr = [];
    for (let i = 0; i < length; i++) {
        arr.push(Math.floor(Math.random() * length));
    }
    return arr;
}
// 复制一个数组
function paste(arr) {
    return arr.slice();
}
// 检验结果是否正确
function isRight(arr) {
    return arr.every((v, i, a) => {
        if (i === arr.length - 1) {
            return true;
        }
        return v <= a[i + 1];
    });
}
// 测试消耗时间
function test(arr, fun, str) {
    let testArr = paste(arr);
    // var start = new Date().getTime();
    console.time(str);
    if (str === "nativeSort(quickSort)") {
        fun(testArr, (a, b) => a - b);
    }
    else {
        const _arr = fun(testArr);
        testArr = Array.isArray(_arr) ? _arr : testArr;
    }
    console.timeEnd(str);
    console.log(`result:${isRight(testArr)}`);
    return testArr;
}
let testArr = generateRandomArr(10000);
const myTest = test.bind({}, testArr);
// 测试原生
// 反柯里化
const unCurrying = function (fn) {
    return function () {
        const args = [].slice.call(arguments, 1);
        return fn.apply(arguments[0], args);
    };
};
let nativeSort = unCurrying(Array.prototype.sort);
// 基本排序算法
console.log("Basic sorting algorithm 10000 elements");
myTest(bubbleSort_1.default, "bubbleSort");
myTest(insertionSort_1.default, "insertionSort");
myTest(selectionSort_1.default, "selectionSort");
myTest(nativeSort, "nativeSort(quickSort)");
console.log("-----------------------");
let testArr1 = generateRandomArr(1000000);
const myTest1 = test.bind({}, testArr1);
console.log("Advanced orting algorithm 100000 elements");
myTest1(shellSort_1.shellSortWithStaticGaps, "希尔排序固定间隔(Ciura 序列)");
myTest1(shellSort_1.shellSortWithDynamicGaps, "希尔排序动态间隔");
myTest1(mergeSort_1.default, "归并排序");
myTest1(quickSort_1.qSort, "快速排序");
myTest1(quickSort_1.qSort1, "快速排序+三数取中");
myTest1(quickSort_1.qSort2, "快速排序+三数取中+插入排序");
myTest1(quickSort_1.qSort3, "快速排序+三数取中+插入排序+聚集相等元素");
myTest1(nativeSort, "nativeSort(quickSort)");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVuY2htYXJrLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyLnrpfms5Uv5o6S5bqP566X5rOVL2JlbmNobWFyay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLG9FQUE0QztBQUM1QyxvRUFBNEM7QUFDNUMsOERBQXNDO0FBRXRDLDREQUFvQztBQUNwQywyQ0FBOEU7QUFDOUUsMkNBQTBEO0FBRTFELFVBQVU7QUFDVixTQUFTLGlCQUFpQixDQUFDLE1BQWM7SUFDckMsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2YsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUM3QixHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7S0FDaEQ7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFFRCxTQUFTO0FBQ1QsU0FBUyxLQUFLLENBQUksR0FBUTtJQUN0QixPQUFPLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUN2QixDQUFDO0FBRUQsV0FBVztBQUNYLFNBQVMsT0FBTyxDQUFJLEdBQWE7SUFDN0IsT0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN0QixPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6QixDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFJRCxTQUFTO0FBQ1QsU0FBUyxJQUFJLENBQUMsR0FBYSxFQUFFLEdBQWlCLEVBQUUsR0FBVztJQUN2RCxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekIsb0NBQW9DO0lBQ3BDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbEIsSUFBSSxHQUFHLEtBQUssdUJBQXVCLEVBQUU7UUFDakMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNqQztTQUFNO1FBQ0gsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztLQUNsRDtJQUVELE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDMUMsT0FBTyxPQUFPLENBQUM7QUFDbkIsQ0FBQztBQUVELElBQUksT0FBTyxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3ZDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RDLE9BQU87QUFDUCxPQUFPO0FBQ1AsTUFBTSxVQUFVLEdBQUcsVUFBVSxFQUFZO0lBQ3JDLE9BQU87UUFDSCxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRixJQUFJLFVBQVUsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsRCxTQUFTO0FBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDO0FBRXRELE1BQU0sQ0FBQyxvQkFBVSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyx1QkFBYSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyx1QkFBYSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztBQUU1QyxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFFdkMsSUFBSSxRQUFRLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDMUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFHeEMsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQ0FBMkMsQ0FBQyxDQUFDO0FBQ3pELE9BQU8sQ0FBQyxtQ0FBdUIsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO0FBQ3ZELE9BQU8sQ0FBQyxvQ0FBd0IsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUM5QyxPQUFPLENBQUMsbUJBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUMzQixPQUFPLENBQUMsaUJBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN2QixPQUFPLENBQUMsa0JBQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztBQUM3QixPQUFPLENBQUMsa0JBQU0sRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ2xDLE9BQU8sQ0FBQyxrQkFBTSxFQUFFLHVCQUF1QixDQUFDLENBQUM7QUFDekMsT0FBTyxDQUFDLFVBQVUsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluc2VydGlvblNvcnQgZnJvbSBcIi4vaW5zZXJ0aW9uU29ydFwiO1xuaW1wb3J0IHNlbGVjdGlvblNvcnQgZnJvbSBcIi4vc2VsZWN0aW9uU29ydFwiO1xuaW1wb3J0IGJ1YmJsZVNvcnQgZnJvbSBcIi4vYnViYmxlU29ydFwiO1xuXG5pbXBvcnQgbWVyZ2VTb3J0IGZyb20gXCIuL21lcmdlU29ydFwiO1xuaW1wb3J0IHtzaGVsbFNvcnRXaXRoRHluYW1pY0dhcHMsIHNoZWxsU29ydFdpdGhTdGF0aWNHYXBzfSBmcm9tIFwiLi9zaGVsbFNvcnRcIjtcbmltcG9ydCB7cVNvcnQsIHFTb3J0MSwgcVNvcnQyLCBxU29ydDN9IGZyb20gXCIuL3F1aWNrU29ydFwiO1xuXG4vLyDmtYvor5XnlKjpmo/mnLrmlbDnu4RcbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tQXJyKGxlbmd0aDogbnVtYmVyKSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhcnIucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZW5ndGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cblxuLy8g5aSN5Yi25LiA5Liq5pWw57uEXG5mdW5jdGlvbiBwYXN0ZTxUPihhcnI6IFRbXSk6IFRbXSB7XG4gICAgcmV0dXJuIGFyci5zbGljZSgpO1xufVxuXG4vLyDmo4Dpqoznu5PmnpzmmK/lkKbmraPnoa5cbmZ1bmN0aW9uIGlzUmlnaHQ8VD4oYXJyOiBudW1iZXJbXSkge1xuICAgIHJldHVybiBhcnIuZXZlcnkoKHYsIGksIGEpID0+IHtcbiAgICAgICAgaWYgKGkgPT09IGFyci5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdiA8PSBhW2kgKyAxXTtcbiAgICB9KTtcbn1cblxudHlwZSBTb3J0RnVuY3Rpb24gPSAoYXJyOiBudW1iZXJbXSwgY29tcGFyZUZuPzogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBudW1iZXIpID0+IGFueVxuXG4vLyDmtYvor5XmtojogJfml7bpl7RcbmZ1bmN0aW9uIHRlc3QoYXJyOiBudW1iZXJbXSwgZnVuOiBTb3J0RnVuY3Rpb24sIHN0cjogc3RyaW5nKSB7XG4gICAgbGV0IHRlc3RBcnIgPSBwYXN0ZShhcnIpO1xuICAgIC8vIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnNvbGUudGltZShzdHIpO1xuICAgIGlmIChzdHIgPT09IFwibmF0aXZlU29ydChxdWlja1NvcnQpXCIpIHtcbiAgICAgICAgZnVuKHRlc3RBcnIsIChhLCBiKSA9PiBhIC0gYik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgX2FyciA9IGZ1bih0ZXN0QXJyKTtcbiAgICAgICAgdGVzdEFyciA9IEFycmF5LmlzQXJyYXkoX2FycikgPyBfYXJyIDogdGVzdEFycjtcbiAgICB9XG5cbiAgICBjb25zb2xlLnRpbWVFbmQoc3RyKTtcbiAgICBjb25zb2xlLmxvZyhgcmVzdWx0OiR7aXNSaWdodCh0ZXN0QXJyKX1gKTtcbiAgICByZXR1cm4gdGVzdEFycjtcbn1cblxubGV0IHRlc3RBcnIgPSBnZW5lcmF0ZVJhbmRvbUFycigxMDAwMCk7XG5jb25zdCBteVRlc3QgPSB0ZXN0LmJpbmQoe30sIHRlc3RBcnIpO1xuLy8g5rWL6K+V5Y6f55SfXG4vLyDlj43mn6/ph4zljJZcbmNvbnN0IHVuQ3VycnlpbmcgPSBmdW5jdGlvbiAoZm46IEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGFyZ3VtZW50c1swXSwgYXJncyk7XG4gICAgfTtcbn07XG5cbmxldCBuYXRpdmVTb3J0ID0gdW5DdXJyeWluZyhBcnJheS5wcm90b3R5cGUuc29ydCk7XG4vLyDln7rmnKzmjpLluo/nrpfms5VcbmNvbnNvbGUubG9nKFwiQmFzaWMgc29ydGluZyBhbGdvcml0aG0gMTAwMDAgZWxlbWVudHNcIik7XG5cbm15VGVzdChidWJibGVTb3J0LCBcImJ1YmJsZVNvcnRcIik7XG5teVRlc3QoaW5zZXJ0aW9uU29ydCwgXCJpbnNlcnRpb25Tb3J0XCIpO1xubXlUZXN0KHNlbGVjdGlvblNvcnQsIFwic2VsZWN0aW9uU29ydFwiKTtcbm15VGVzdChuYXRpdmVTb3J0LCBcIm5hdGl2ZVNvcnQocXVpY2tTb3J0KVwiKTtcblxuY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcblxubGV0IHRlc3RBcnIxID0gZ2VuZXJhdGVSYW5kb21BcnIoMTAwMDAwMCk7XG5jb25zdCBteVRlc3QxID0gdGVzdC5iaW5kKHt9LCB0ZXN0QXJyMSk7XG5cblxuY29uc29sZS5sb2coXCJBZHZhbmNlZCBvcnRpbmcgYWxnb3JpdGhtIDEwMDAwMCBlbGVtZW50c1wiKTtcbm15VGVzdDEoc2hlbGxTb3J0V2l0aFN0YXRpY0dhcHMsIFwi5biM5bCU5o6S5bqP5Zu65a6a6Ze06ZqUKENpdXJhIOW6j+WIlylcIik7XG5teVRlc3QxKHNoZWxsU29ydFdpdGhEeW5hbWljR2FwcywgXCLluIzlsJTmjpLluo/liqjmgIHpl7TpmpRcIik7XG5teVRlc3QxKG1lcmdlU29ydCwgXCLlvZLlubbmjpLluo9cIik7XG5teVRlc3QxKHFTb3J0LCBcIuW/q+mAn+aOkuW6j1wiKTtcbm15VGVzdDEocVNvcnQxLCBcIuW/q+mAn+aOkuW6jyvkuInmlbDlj5bkuK1cIik7XG5teVRlc3QxKHFTb3J0MiwgXCLlv6vpgJ/mjpLluo8r5LiJ5pWw5Y+W5LitK+aPkuWFpeaOkuW6j1wiKTtcbm15VGVzdDEocVNvcnQzLCBcIuW/q+mAn+aOkuW6jyvkuInmlbDlj5bkuK0r5o+S5YWl5o6S5bqPK+iBmumbhuebuOetieWFg+e0oFwiKTtcbm15VGVzdDEobmF0aXZlU29ydCwgXCJuYXRpdmVTb3J0KHF1aWNrU29ydClcIik7XG5cbiJdfQ==