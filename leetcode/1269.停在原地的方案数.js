"use strict";
/*
1269. 停在原地的方案数
有一个长度为 arrLen 的数组，开始有一个指针在索引 0 处。

每一步操作中，你可以将指针向左或向右移动 1 步，或者停在原地（指针不能被移动到数组范围外）。

给你两个整数 steps 和 arrLen ，请你计算并返回：在恰好执行 steps 次操作以后，指针仍然指向索引 0 处的方案数。

由于答案可能会很大，请返回方案数 模 10^9 + 7 后的结果。



示例 1：

输入：steps = 3, arrLen = 2
输出：4
解释：3 步后，总共有 4 种不同的方法可以停在索引 0 处。
向右，向左，不动
不动，向右，向左
向右，不动，向左
不动，不动，不动
示例  2：

输入：steps = 2, arrLen = 4
输出：2
解释：2 步后，总共有 2 种不同的方法可以停在索引 0 处。
向右，向左
不动，不动
示例 3：

输入：steps = 4, arrLen = 2
输出：8


提示：

1 <= steps <= 500
1 <= arrLen <= 10^6
* */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @link https://leetcode-cn.com/problems/number-of-ways-to-stay-in-the-same-place-after-some-steps/solution/ting-zai-yuan-di-de-fang-an-shu-by-leetcode-soluti/
 * */
function numWays1(steps, arrLen) {
    const MODULO = 1000000007;
    // 也就是 j 能停留的位置index         数组最右侧 或者 步数的一半(由于必须走回开始的位置, 超过一半步数再往右走是回不来的 所以不需要计算)
    let maxColumn = Math.min(arrLen - 1, Math.floor(steps / 2));
    const dp = new Array(steps + 1)
        .fill(0)
        //                              加上起点位置 0
        .map(() => new Array(maxColumn + 1).fill(0));
    dp[0][0] = 1;
    // 第一行 也就是 只有0步 所以 出了 j = 0 位置 其他都是 0
    // 所以下面计算 i 从 1 开始
    // 多少步
    for (let i = 1; i <= steps; i++) {
        //
        // 在哪一位
        for (let j = 0; j <= maxColumn; j++) {
            // dp[i][j] 位置的值 等于 dp[i - 1][j] (这步不动) + dp[i - 1][j - 1](右走一步 到j) + dp[i - 1][j + 1])(左走一步到 j)
            dp[i][j] = dp[i - 1][j];
            if (j - 1 >= 0) {
                dp[i][j] = (dp[i][j] + dp[i - 1][j - 1]) % MODULO;
            }
            if (j + 1 <= maxColumn) {
                dp[i][j] = (dp[i][j] + dp[i - 1][j + 1]) % MODULO;
            }
        }
    }
    return dp[steps][0];
}
function numWays2(steps, arrLen) {
    const MODULO = 1000000007;
    let maxColumn = Math.min(arrLen - 1, Math.floor(steps / 2));
    // 由于 每一个 i 位置的数组 之与 i-1 位置的数组有关, 则只需要留一个数组用来缓存即可
    let dp = new Array(maxColumn + 1).fill(0);
    dp[0] = 1;
    for (let i = 1; i <= steps; i++) {
        const dpNext = new Array(maxColumn + 1).fill(0);
        for (let j = 0; j <= maxColumn; j++) {
            dpNext[j] = dp[j];
            if (j - 1 >= 0) {
                dpNext[j] = (dpNext[j] + dp[j - 1]) % MODULO;
            }
            if (j + 1 <= maxColumn) {
                dpNext[j] = (dpNext[j] + dp[j + 1]) % MODULO;
            }
        }
        // 更新 i 位置的 动态规划结果
        dp = dpNext;
    }
    return dp[0];
}
const assert_1 = __importDefault(require("assert"));
assert_1.default.strictEqual(numWays1(3, 2), 4);
assert_1.default.strictEqual(numWays1(2, 4), 2);
assert_1.default.strictEqual(numWays1(4, 2), 8);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI2OS7lgZzlnKjljp/lnLDnmoTmlrnmoYjmlbAuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbImxlZXRjb2RlLzEyNjku5YGc5Zyo5Y6f5Zyw55qE5pa55qGI5pWwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFzQ0k7Ozs7O0FBRUo7O0tBRUs7QUFDTCxTQUFTLFFBQVEsQ0FBQyxLQUFhLEVBQUUsTUFBYztJQUM3QyxNQUFNLE1BQU0sR0FBRyxVQUFVLENBQUM7SUFDMUIsaUZBQWlGO0lBQ2pGLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVELE1BQU0sRUFBRSxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7U0FDNUIsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNSLHdDQUF3QztTQUN2QyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxLQUFLLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9DLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDYixxQ0FBcUM7SUFDckMsa0JBQWtCO0lBRWxCLE1BQU07SUFDTixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQy9CLEVBQUU7UUFDRixPQUFPO1FBQ1AsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxnR0FBZ0c7WUFFaEcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENB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QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuMTI2OS4g5YGc5Zyo5Y6f5Zyw55qE5pa55qGI5pWwXG7mnInkuIDkuKrplb/luqbkuLogYXJyTGVuIOeahOaVsOe7hO+8jOW8gOWni+acieS4gOS4quaMh+mSiOWcqOe0ouW8lSAwIOWkhOOAglxuXG7mr4/kuIDmraXmk43kvZzkuK3vvIzkvaDlj6/ku6XlsIbmjIfpkojlkJHlt6bmiJblkJHlj7Pnp7vliqggMSDmraXvvIzmiJbogIXlgZzlnKjljp/lnLDvvIjmjIfpkojkuI3og73ooqvnp7vliqjliLDmlbDnu4TojIPlm7TlpJbvvInjgIJcblxu57uZ5L2g5Lik5Liq5pW05pWwIHN0ZXBzIOWSjCBhcnJMZW4g77yM6K+35L2g6K6h566X5bm26L+U5Zue77ya5Zyo5oGw5aW95omn6KGMIHN0ZXBzIOasoeaTjeS9nOS7peWQju+8jOaMh+mSiOS7jeeEtuaMh+WQkee0ouW8lSAwIOWkhOeahOaWueahiOaVsOOAglxuXG7nlLHkuo7nrZTmoYjlj6/og73kvJrlvojlpKfvvIzor7fov5Tlm57mlrnmoYjmlbAg5qihIDEwXjkgKyA3IOWQjueahOe7k+aenOOAglxuXG5cblxu56S65L6LIDHvvJpcblxu6L6T5YWl77yac3RlcHMgPSAzLCBhcnJMZW4gPSAyXG7ovpPlh7rvvJo0XG7op6Pph4rvvJozIOatpeWQju+8jOaAu+WFseaciSA0IOenjeS4jeWQjOeahOaWueazleWPr+S7peWBnOWcqOe0ouW8lSAwIOWkhOOAglxu5ZCR5Y+z77yM5ZCR5bem77yM5LiN5YqoXG7kuI3liqjvvIzlkJHlj7PvvIzlkJHlt6ZcbuWQkeWPs++8jOS4jeWKqO+8jOWQkeW3plxu5LiN5Yqo77yM5LiN5Yqo77yM5LiN5YqoXG7npLrkvosgIDLvvJpcblxu6L6T5YWl77yac3RlcHMgPSAyLCBhcnJMZW4gPSA0XG7ovpPlh7rvvJoyXG7op6Pph4rvvJoyIOatpeWQju+8jOaAu+WFseaciSAyIOenjeS4jeWQjOeahOaWueazleWPr+S7peWBnOWcqOe0ouW8lSAwIOWkhOOAglxu5ZCR5Y+z77yM5ZCR5bemXG7kuI3liqjvvIzkuI3liqhcbuekuuS+iyAz77yaXG5cbui+k+WFpe+8mnN0ZXBzID0gNCwgYXJyTGVuID0gMlxu6L6T5Ye677yaOFxuXG5cbuaPkOekuu+8mlxuXG4xIDw9IHN0ZXBzIDw9IDUwMFxuMSA8PSBhcnJMZW4gPD0gMTBeNlxuKiAqL1xuXG4vKipcbiAqIEBsaW5rIGh0dHBzOi8vbGVldGNvZGUtY24uY29tL3Byb2JsZW1zL251bWJlci1vZi13YXlzLXRvLXN0YXktaW4tdGhlLXNhbWUtcGxhY2UtYWZ0ZXItc29tZS1zdGVwcy9zb2x1dGlvbi90aW5nLXphaS15dWFuLWRpLWRlLWZhbmctYW4tc2h1LWJ5LWxlZXRjb2RlLXNvbHV0aS9cbiAqICovXG5mdW5jdGlvbiBudW1XYXlzMShzdGVwczogbnVtYmVyLCBhcnJMZW46IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IE1PRFVMTyA9IDEwMDAwMDAwMDc7XG4gIC8vIOS5n+WwseaYryBqIOiDveWBnOeVmeeahOS9jee9rmluZGV4ICAgICAgICAg5pWw57uE5pyA5Y+z5L6nIOaIluiAhSDmraXmlbDnmoTkuIDljYoo55Sx5LqO5b+F6aG76LWw5Zue5byA5aeL55qE5L2N572uLCDotoXov4fkuIDljYrmraXmlbDlho3lvoDlj7PotbDmmK/lm57kuI3mnaXnmoQg5omA5Lul5LiN6ZyA6KaB6K6h566XKVxuICBsZXQgbWF4Q29sdW1uID0gTWF0aC5taW4oYXJyTGVuIC0gMSwgTWF0aC5mbG9vcihzdGVwcyAvIDIpKTtcbiAgY29uc3QgZHAgPSBuZXcgQXJyYXkoc3RlcHMgKyAxKVxuICAgIC5maWxsKDApXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDliqDkuIrotbfngrnkvY3nva4gMFxuICAgIC5tYXAoKCkgPT4gbmV3IEFycmF5KG1heENvbHVtbiArIDEpLmZpbGwoMCkpO1xuICBkcFswXVswXSA9IDE7XG4gIC8vIOesrOS4gOihjCDkuZ/lsLHmmK8g5Y+q5pyJMOatpSDmiYDku6Ug5Ye65LqGIGogPSAwIOS9jee9riDlhbbku5bpg73mmK8gMFxuICAvLyDmiYDku6XkuIvpnaLorqHnrpcgaSDku44gMSDlvIDlp4tcblxuICAvLyDlpJrlsJHmraVcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc3RlcHM7IGkrKykge1xuICAgIC8vXG4gICAgLy8g5Zyo5ZOq5LiA5L2NXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPD0gbWF4Q29sdW1uOyBqKyspIHtcbiAgICAgIC8vIGRwW2ldW2pdIOS9jee9rueahOWAvCDnrYnkuo4gZHBbaSAtIDFdW2pdICjov5nmraXkuI3liqgpICsgZHBbaSAtIDFdW2ogLSAxXSjlj7PotbDkuIDmraUg5YiwaikgKyBkcFtpIC0gMV1baiArIDFdKSjlt6botbDkuIDmraXliLAgailcblxuICAgICAgZHBbaV1bal0gPSBkcFtpIC0gMV1bal07XG4gICAgICBpZiAoaiAtIDEgPj0gMCkge1xuICAgICAgICBkcFtpXVtqXSA9IChkcFtpXVtqXSArIGRwW2kgLSAxXVtqIC0gMV0pICUgTU9EVUxPO1xuICAgICAgfVxuICAgICAgaWYgKGogKyAxIDw9IG1heENvbHVtbikge1xuICAgICAgICBkcFtpXVtqXSA9IChkcFtpXVtqXSArIGRwW2kgLSAxXVtqICsgMV0pICUgTU9EVUxPO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZHBbc3RlcHNdWzBdO1xufVxuXG5cbmZ1bmN0aW9uIG51bVdheXMyKHN0ZXBzOiBudW1iZXIsIGFyckxlbjogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgTU9EVUxPID0gMTAwMDAwMDAwNztcbiAgbGV0IG1heENvbHVtbiA9IE1hdGgubWluKGFyckxlbiAtIDEsIE1hdGguZmxvb3Ioc3RlcHMgLyAyKSk7XG4gIC8vIOeUseS6jiDmr4/kuIDkuKogaSDkvY3nva7nmoTmlbDnu4Qg5LmL5LiOIGktMSDkvY3nva7nmoTmlbDnu4TmnInlhbMsIOWImeWPqumcgOimgeeVmeS4gOS4quaVsOe7hOeUqOadpee8k+WtmOWNs+WPr1xuICBsZXQgZHAgPSBuZXcgQXJyYXkobWF4Q29sdW1uICsgMSkuZmlsbCgwKTtcbiAgZHBbMF0gPSAxO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdGVwczsgaSsrKSB7XG4gICAgY29uc3QgZHBOZXh0ID0gbmV3IEFycmF5KG1heENvbHVtbiArIDEpLmZpbGwoMCk7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPD0gbWF4Q29sdW1uOyBqKyspIHtcbiAgICAgIGRwTmV4dFtqXSA9IGRwW2pdO1xuICAgICAgaWYgKGogLSAxID49IDApIHtcbiAgICAgICAgZHBOZXh0W2pdID0gKGRwTmV4dFtqXSArIGRwW2ogLSAxXSkgJSBNT0RVTE87XG4gICAgICB9XG4gICAgICBpZiAoaiArIDEgPD0gbWF4Q29sdW1uKSB7XG4gICAgICAgIGRwTmV4dFtqXSA9IChkcE5leHRbal0gKyBkcFtqICsgMV0pICUgTU9EVUxPO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyDmm7TmlrAgaSDkvY3nva7nmoQg5Yqo5oCB6KeE5YiS57uT5p6cXG4gICAgZHAgPSBkcE5leHQ7XG4gIH1cbiAgcmV0dXJuIGRwWzBdO1xufVxuXG5cblxuaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCI7XG5hc3NlcnQuc3RyaWN0RXF1YWwobnVtV2F5czEoMywgMiksIDQpO1xuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVdheXMxKDIsIDQpLCAyKTtcbmFzc2VydC5zdHJpY3RFcXVhbChudW1XYXlzMSg0LCAyKSwgOCk7XG4iXX0=