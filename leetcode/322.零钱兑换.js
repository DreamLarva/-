"use strict";
var __importDefault =
  (this && this.__importDefault) ||
  function (mod) {
    return mod && mod.__esModule ? mod : { default: mod };
  };
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 回溯算法 不出意外的超时了
 */
var coinChange1 = function (coins, amount) {
  let cacheTimes = Infinity;
  return backtrack(
    coins.sort((a, b) => b - a),
    amount
  );
  function backtrack(coins, amount, times = 0) {
    if (times >= cacheTimes) return -1;
    if (amount === 0) {
      cacheTimes = Math.min(cacheTimes, times);
      return times;
    }
    if (amount < 0) return -1;
    const curTimesArr = coins
      .map((coin) => backtrack(coins, amount - coin, times + 1))
      .filter((v) => v !== -1);
    if (curTimesArr.length !== 0) return Math.min(...curTimesArr);
    return -1;
  }
};
/**
 * 添加 剪枝 的回溯算法
 * 从大的数额的硬币 的 最大的数量目 开始试
 * 然后用较小数额的硬币 的 最大数目 递归至 刚好等于 amount
 * 当 当前数额 以及 更小数额都无法 做到时 就回到 更大数额的 但是用少一枚的数目
 */
var coinChange2 = function (coins, amount) {
  let cacheTimes = Infinity;
  coins.sort((a, b) => a - b);
  backtrack(coins, coins.length - 1, amount, 0);
  return cacheTimes === Infinity ? -1 : cacheTimes;
  function backtrack(
    coins,
    index = coins.length - 1, // 限定每次回溯能用到的 值 从大到小
    amount,
    times = 0
  ) {
    if (index < 0) return;
    if (amount === 0) cacheTimes = Math.min(times, cacheTimes);
    // 如果 全用 用当前 数额的银币 也会超过已经可以达成的 最小枚数 就剪枝
    if (cacheTimes <= times + amount / coins[index]) {
      return;
    }
    if (amount % coins[index] === 0) {
      cacheTimes = Math.min(cacheTimes, times + amount / coins[index]);
      return;
    }
    for (let i = Math.floor(amount / coins[index]); i >= 0; i--) {
      backtrack(coins, index - 1, amount - coins[index] * i, times + i);
    }
  }
};
// 动态规划
function coinChange(coins, amount) {
  const dp = new Array(amount + 1).fill(Infinity);
  dp[0] = 0;
  for (let i = 1; i < dp.length; i++) {
    for (const coin of coins) {
      if (i >= coin) {
        dp[i] = Math.min(dp[i], dp[i - coin] + 1);
      }
    }
  }
  return dp[dp.length - 1] === Infinity ? -1 : dp[dp.length - 1];
}
const assert_1 = __importDefault(require("assert"));
// assert.strictEqual(coinChange([1, 2, 5], 11), 3);
// assert.strictEqual(coinChange([2, 5, 10, 1], 27), 4);
// assert.strictEqual(coinChange([2, 5, 10], 100), 10);
// assert.strictEqual(coinChange2([1, 2, 5], 11), 3);
// assert.strictEqual(coinChange2([2, 5, 10, 1], 27), 4);
// assert.strictEqual(coinChange2([2, 5, 10], 100), 10);
assert_1.default.strictEqual(coinChange([1, 2, 5], 11), 3);
assert_1.default.strictEqual(coinChange([2, 5, 10, 1], 27), 4);
assert_1.default.strictEqual(coinChange([2, 5, 10], 100), 10);
assert_1.default.strictEqual(coinChange([1], 0), 0);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIyLumbtumSseWFkeaNoi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsibGVldGNvZGUvMzIyLumbtumSseWFkeaNoi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQW9CQTs7R0FFRztBQUNILElBQUksV0FBVyxHQUFHLFVBQVUsS0FBZSxFQUFFLE1BQWM7SUFDekQsSUFBSSxVQUFVLEdBQUcsUUFBUSxDQUFDO0lBRTFCLE9BQU8sU0FBUyxDQUNkLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQzNCLE1BQU0sQ0FDUCxDQUFDO0lBRUYsU0FBUyxTQUFTLENBQ2hCLEtBQWUsRUFDZixNQUFjLEVBQ2QsUUFBZ0IsQ0FBQztRQUVqQixJQUFJLEtBQUssSUFBSSxVQUFVO1lBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNuQyxJQUFJLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDaEIsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3pDLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sR0FBRyxDQUFDO1lBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUUxQixNQUFNLFdBQVcsR0FBRyxLQUFLO2FBQ3RCLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxNQUFNLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQzthQUN6RCxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTNCLElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUM7UUFDOUQsT0FB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QXFEO0FBQ3JELHlEQUF5RDtBQUN6RCx3REFBd0Q7QUFFeEQsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNqRCxnQkFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNyRCxnQkFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3BELGdCQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbue7meWumuS4jeWQjOmdoumineeahOehrOW4gSBjb2lucyDlkozkuIDkuKrmgLvph5Hpop0gYW1vdW5044CC57yW5YaZ5LiA5Liq5Ye95pWw5p2l6K6h566X5Y+v5Lul5YeR5oiQ5oC76YeR6aKd5omA6ZyA55qE5pyA5bCR55qE56Gs5biB5Liq5pWw44CC5aaC5p6c5rKh5pyJ5Lu75L2V5LiA56eN56Gs5biB57uE5ZCI6IO957uE5oiQ5oC76YeR6aKd77yM6L+U5ZueIC0x44CCXG5cbuekuuS+iyAxOlxuXG7ovpPlhaU6IGNvaW5zID0gWzEsIDIsIDVdLCBhbW91bnQgPSAxMVxu6L6T5Ye6OiAzXG7op6Pph4o6IDExID0gNSArIDUgKyAxXG7npLrkvosgMjpcblxu6L6T5YWlOiBjb2lucyA9IFsyXSwgYW1vdW50ID0gM1xu6L6T5Ye6OiAtMVxu6K+05piOOlxu5L2g5Y+v5Lul6K6k5Li65q+P56eN56Gs5biB55qE5pWw6YeP5piv5peg6ZmQ55qE44CCXG5cbuadpea6kO+8muWKm+aJo++8iExlZXRDb2Rl77yJXG7pk77mjqXvvJpodHRwczovL2xlZXRjb2RlLWNuLmNvbS9wcm9ibGVtcy9jb2luLWNoYW5nZVxu6JGX5L2c5p2D5b2S6aKG5omj572R57uc5omA5pyJ44CC5ZWG5Lia6L2s6L296K+36IGU57O75a6Y5pa55o6I5p2D77yM6Z2e5ZWG5Lia6L2s6L296K+35rOo5piO5Ye65aSE44CCXG4qICovXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG4vKipcbiAqIOWbnua6r+eul+azlSDkuI3lh7rmhI/lpJbnmoTotoXml7bkuoZcbiAqL1xudmFyIGNvaW5DaGFuZ2UxID0gZnVuY3Rpb24gKGNvaW5zOiBudW1iZXJbXSwgYW1vdW50OiBudW1iZXIpIHtcbiAgbGV0IGNhY2hlVGltZXMgPSBJbmZpbml0eTtcblxuICByZXR1cm4gYmFja3RyYWNrKFxuICAgIGNvaW5zLnNvcnQoKGEsIGIpID0+IGIgLSBhKSxcbiAgICBhbW91bnRcbiAgKTtcblxuICBmdW5jdGlvbiBiYWNrdHJhY2soXG4gICAgY29pbnM6IG51bWJlcltdLFxuICAgIGFtb3VudDogbnVtYmVyLFxuICAgIHRpbWVzOiBudW1iZXIgPSAwXG4gICk6IG51bWJlciB7XG4gICAgaWYgKHRpbWVzID49IGNhY2hlVGltZXMpIHJldHVybiAtMTtcbiAgICBpZiAoYW1vdW50ID09PSAwKSB7XG4gICAgICBjYWNoZVRpbWVzID0gTWF0aC5taW4oY2FjaGVUaW1lcywgdGltZXMpO1xuICAgICAgcmV0dXJuIHRpbWVzO1xuICAgIH1cbiAgICBpZiAoYW1vdW50IDwgMCkgcmV0dXJuIC0xO1xuXG4gICAgY29uc3QgY3VyVGltZXNBcnIgPSBjb2luc1xuICAgICAgLm1hcCgoY29pbikgPT4gYmFja3RyYWNrKGNvaW5zLCBhbW91bnQgLSBjb2luLCB0aW1lcyArIDEpKVxuICAgICAgLmZpbHRlcigodikgPT4gdiAhPT0gLTEpO1xuXG4gICAgaWYgKGN1clRpbWVzQXJyLmxlbmd0aCAhPT0gMCkgcmV0dXJuIE1hdGgubWluKC4uLmN1clRpbWVzQXJyKTtcbiAgICByZXR1cm4gLTE7XG4gIH1cbn07XG5cbi8qKlxuICog5re75YqgIOWJquaenSDnmoTlm57muq/nrpfms5VcbiAqIOS7juWkp+eahOaVsOmineeahOehrOW4gSDnmoQg5pyA5aSn55qE5pWw6YeP55uuIOW8gOWni+ivlVxuICog54S25ZCO55So6L6D5bCP5pWw6aKd55qE56Gs5biBIOeahCDmnIDlpKfmlbDnm64g6YCS5b2S6IezIOWImuWlveetieS6jiBhbW91bnRcbiAqIOW9kyDlvZPliY3mlbDpop0g5Lul5Y+KIOabtOWwj+aVsOminemDveaXoOazlSDlgZrliLDml7Yg5bCx5Zue5YiwIOabtOWkp+aVsOmineeahCDkvYbmmK/nlKjlsJHkuIDmnprnmoTmlbDnm65cbiAqL1xudmFyIGNvaW5DaGFuZ2UyID0gZnVuY3Rpb24gKGNvaW5zOiBudW1iZXJbXSwgYW1vdW50OiBudW1iZXIpIHtcbiAgbGV0IGNhY2hlVGltZXMgPSBJbmZpbml0eTtcbiAgY29pbnMuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICBiYWNrdHJhY2soY29pbnMsIGNvaW5zLmxlbmd0aCAtIDEsIGFtb3VudCwgMCk7XG4gIHJldHVybiBjYWNoZVRpbWVzID09PSBJbmZpbml0eSA/IC0xIDogY2FjaGVUaW1lcztcblxuICBmdW5jdGlvbiBiYWNrdHJhY2soXG4gICAgY29pbnM6IG51bWJlcltdLFxuICAgIGluZGV4OiBudW1iZXIgPSBjb2lucy5sZW5ndGggLSAxLCAvLyDpmZDlrprmr4/mrKHlm57muq/og73nlKjliLDnmoQg5YC8IOS7juWkp+WIsOWwj1xuICAgIGFtb3VudDogbnVtYmVyLFxuICAgIHRpbWVzOiBudW1iZXIgPSAwXG4gICkge1xuICAgIGlmIChpbmRleCA8IDApIHJldHVybjtcbiAgICBpZiAoYW1vdW50ID09PSAwKSBjYWNoZVRpbWVzID0gTWF0aC5taW4odGltZXMsIGNhY2hlVGltZXMpO1xuICAgIC8vIOWmguaenCDlhajnlKgg55So5b2T5YmNIOaVsOmineeahOmTtuW4gSDkuZ/kvJrotoXov4flt7Lnu4/lj6/ku6Xovr7miJDnmoQg5pyA5bCP5p6a5pWwIOWwseWJquaenVxuICAgIGlmIChjYWNoZVRpbWVzIDw9IHRpbWVzICsgYW1vdW50IC8gY29pbnNbaW5kZXhdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGFtb3VudCAlIGNvaW5zW2luZGV4XSA9PT0gMCkge1xuICAgICAgY2FjaGVUaW1lcyA9IE1hdGgubWluKGNhY2hlVGltZXMsIHRpbWVzICsgYW1vdW50IC8gY29pbnNbaW5kZXhdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gTWF0aC5mbG9vcihhbW91bnQgLyBjb2luc1tpbmRleF0pOyBpID49IDA7IGktLSkge1xuICAgICAgYmFja3RyYWNrKGNvaW5zLCBpbmRleCAtIDEsIGFtb3VudCAtIGNvaW5zW2luZGV4XSAqIGksIHRpbWVzICsgaSk7XG4gICAgfVxuICB9XG59O1xuXG4vLyDliqjmgIHop4TliJJcbmZ1bmN0aW9uIGNvaW5DaGFuZ2UoY29pbnM6IG51bWJlcltdLCBhbW91bnQ6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IGRwID0gbmV3IEFycmF5KGFtb3VudCArIDEpLmZpbGwoSW5maW5pdHkpO1xuICBkcFswXSA9IDA7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgZHAubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKGNvbnN0IGNvaW4gb2YgY29pbnMpIHtcbiAgICAgIGlmIChpID49IGNvaW4pIHtcbiAgICAgICAgZHBbaV0gPSBNYXRoLm1pbihkcFtpXSwgZHBbaSAtIGNvaW5dICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRwW2RwLmxlbmd0aCAtIDFdID09PSBJbmZpbml0eSA/IC0xIDogZHBbZHAubGVuZ3RoIC0gMV07XG59XG5cbmltcG9ydCBhc3NlcnQgZnJvbSBcImFzc2VydFwiO1xuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGNvaW5DaGFuZ2UoWzEsIDIsIDVdLCAxMSksIDMpO1xuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGNvaW5DaGFuZ2UoWzIsIDUsIDEwLCAxXSwgMjcpLCA0KTtcbi8vIGFzc2VydC5zdHJpY3RFcXVhbChjb2luQ2hhbmdlKFsyLCA1LCAxMF0sIDEwMCksIDEwKTtcblxuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGNvaW5DaGFuZ2UyKFsxLCAyLCA1XSwgMTEpLCAzKTtcbi8vIGFzc2VydC5zdHJpY3RFcXVhbChjb2luQ2hhbmdlMihbMiwgNSwgMTAsIDFdLCAyNyksIDQpO1xuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGNvaW5DaGFuZ2UyKFsyLCA1LCAxMF0sIDEwMCksIDEwKTtcblxuYXNzZXJ0LnN0cmljdEVxdWFsKGNvaW5DaGFuZ2UoWzEsIDIsIDVdLCAxMSksIDMpO1xuYXNzZXJ0LnN0cmljdEVxdWFsKGNvaW5DaGFuZ2UoWzIsIDUsIDEwLCAxXSwgMjcpLCA0KTtcbmFzc2VydC5zdHJpY3RFcXVhbChjb2luQ2hhbmdlKFsyLCA1LCAxMF0sIDEwMCksIDEwKTtcbmFzc2VydC5zdHJpY3RFcXVhbChjb2luQ2hhbmdlKFsxXSwgMCksIDApO1xuIl19
