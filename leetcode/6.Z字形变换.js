"use strict";
/*
将一个给定字符串根据给定的行数，以从上往下、从左到右进行 Z 字形排列。

比如输入字符串为 "LEETCODEISHIRING" 行数为 3 时，排列如下：

L   C   I   R
E T O E S I I G
E   D   H   N
之后，你的输出需要从左往右逐行读取，产生出一个新的字符串，比如："LCIRETOESIIGEDHN"。

请你实现这个将字符串进行指定行数变换的函数：

string convert(string s, int numRows);
示例 1:

输入: s = "LEETCODEISHIRING", numRows = 3
输出: "LCIRETOESIIGEDHN"
示例 2:

输入: s = "LEETCODEISHIRING", numRows = 4
输出: "LDREOEIIECIHNTSG"
解释:

L     D     R
E   O E   I I
E C   I H   N
T     S     G
* */
/**
 * @param {string} s
 * @param {number} numRows
 * @return {string}
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
function convert(s, numRows) {
    if (s.length === 0 || numRows === 1)
        return s;
    const arr = new Array(numRows).fill(1).map(() => []);
    const strLen = s.length;
    const loopArr = explainLoopArr(numRows);
    for (let i = 0, k = 0; i < strLen; k++) {
        let { loopTime, startIndex, order } = byStep(loopArr, k);
        // console.log(byStep(loopArr, k));
        for (let j = 0; j < loopTime && i < strLen; j++) {
            arr[startIndex].push(s[i]);
            startIndex += order;
            i++;
        }
        // console.log(arr.join("\n"));
    }
    return Array.prototype.concat.apply([], arr).join("");
}
function explainLoopArr(num) {
    const result = [];
    let times = 2;
    while (num >= 1 && times-- > 0) {
        result.push(num);
        num -= 2;
    }
    return [...result, ...result.slice(1, -1)];
}
function byStep(arr, k) {
    const arrLength = arr.length;
    const loopTime = k % arrLength;
    const order = k % 2 === 0 || arrLength === 1 ? 1 : -1;
    const startIndex = k % 2 === 0 || arrLength === 1
        ? (arr[0] - arr[loopTime]) / 2
        : arr[0] - 1 - (arr[0] - arr[loopTime]) / 2;
    return {
        loopTime: arr[loopTime],
        startIndex,
        order,
    };
}
const assert_1 = __importDefault(require("assert"));
assert_1.default.strictEqual(convert("LEETCODEISHIRING", 3), "LCIRETOESIIGEDHN");
assert_1.default.strictEqual(convert("LEETCODEISHIRING", 4), "LDREOEIIECIHNTSG");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5a5a2X5b2i5Y+Y5o2iLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJsZWV0Y29kZS82LlrlrZflvaLlj5jmjaIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUEyQkk7QUFDSjs7OztHQUlHOzs7OztBQUVILFNBQVMsT0FBTyxDQUFDLENBQVMsRUFBRSxPQUFlO0lBQ3pDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksT0FBTyxLQUFLLENBQUM7UUFBRSxPQUFPLENBQUMsQ0FBQztJQUM5QyxNQUFNLEdBQUcsR0FBZSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDeEIsTUFBTSxPQUFPLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN0QyxJQUFJLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3pELG1DQUFtQztRQUNuQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxJQUFJLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDL0MsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzQixVQUFVLElBQUksS0FBSyxDQUFDO1lBQ3BCLENBQUMsRUFBRSxDQUFDO1NBQ0w7UUFDRCwrQkFBK0I7S0FDaEM7SUFFRCxPQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FBQyxHQUFXO0lBQ2pDLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNsQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDZCxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFO1FBQzlCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakIsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNWO0lBQ0QsT0FBTyxDQUFDLEdBQUcsTUFBTSxFQUFFLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUM7QUFFRCxTQUFTLE1BQU0sQ0FBQyxHQUFhLEVBQUUsQ0FBUztJQUN0QyxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBRTdCLE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUM7SUFFL0IsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksU0FBUyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RCxNQUFNLFVBQVUsR0FDZCxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxTQUFTLEtBQUssQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUM5QixDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFaEQsT0FBTztRQUNMLFFBQVEsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3ZCLFVBQVU7UUFDVixLQUFLO0tBQ04sQ0FBQztBQUNKLENBQUM7QUFFRCxvREFBNEI7QUFFNUIsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFDdkUsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG7lsIbkuIDkuKrnu5nlrprlrZfnrKbkuLLmoLnmja7nu5nlrprnmoTooYzmlbDvvIzku6Xku47kuIrlvoDkuIvjgIHku47lt6bliLDlj7Pov5vooYwgWiDlrZflvaLmjpLliJfjgIJcclxuXHJcbuavlOWmgui+k+WFpeWtl+espuS4suS4uiBcIkxFRVRDT0RFSVNISVJJTkdcIiDooYzmlbDkuLogMyDml7bvvIzmjpLliJflpoLkuIvvvJpcclxuXHJcbkwgICBDICAgSSAgIFJcclxuRSBUIE8gRSBTIEkgSSBHXHJcbkUgICBEICAgSCAgIE5cclxu5LmL5ZCO77yM5L2g55qE6L6T5Ye66ZyA6KaB5LuO5bem5b6A5Y+z6YCQ6KGM6K+75Y+W77yM5Lqn55Sf5Ye65LiA5Liq5paw55qE5a2X56ym5Liy77yM5q+U5aaC77yaXCJMQ0lSRVRPRVNJSUdFREhOXCLjgIJcclxuXHJcbuivt+S9oOWunueOsOi/meS4quWwhuWtl+espuS4sui/m+ihjOaMh+WumuihjOaVsOWPmOaNoueahOWHveaVsO+8mlxyXG5cclxuc3RyaW5nIGNvbnZlcnQoc3RyaW5nIHMsIGludCBudW1Sb3dzKTtcclxu56S65L6LIDE6XHJcblxyXG7ovpPlhaU6IHMgPSBcIkxFRVRDT0RFSVNISVJJTkdcIiwgbnVtUm93cyA9IDNcclxu6L6T5Ye6OiBcIkxDSVJFVE9FU0lJR0VESE5cIlxyXG7npLrkvosgMjpcclxuXHJcbui+k+WFpTogcyA9IFwiTEVFVENPREVJU0hJUklOR1wiLCBudW1Sb3dzID0gNFxyXG7ovpPlh7o6IFwiTERSRU9FSUlFQ0lITlRTR1wiXHJcbuino+mHijpcclxuXHJcbkwgICAgIEQgICAgIFJcclxuRSAgIE8gRSAgIEkgSVxyXG5FIEMgICBJIEggICBOXHJcblQgICAgIFMgICAgIEdcclxuKiAqL1xyXG4vKipcclxuICogQHBhcmFtIHtzdHJpbmd9IHNcclxuICogQHBhcmFtIHtudW1iZXJ9IG51bVJvd3NcclxuICogQHJldHVybiB7c3RyaW5nfVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGNvbnZlcnQoczogc3RyaW5nLCBudW1Sb3dzOiBudW1iZXIpIHtcclxuICBpZiAocy5sZW5ndGggPT09IDAgfHwgbnVtUm93cyA9PT0gMSkgcmV0dXJuIHM7XHJcbiAgY29uc3QgYXJyOiBzdHJpbmdbXVtdID0gbmV3IEFycmF5KG51bVJvd3MpLmZpbGwoMSkubWFwKCgpID0+IFtdKTtcclxuICBjb25zdCBzdHJMZW4gPSBzLmxlbmd0aDtcclxuICBjb25zdCBsb29wQXJyID0gZXhwbGFpbkxvb3BBcnIobnVtUm93cyk7XHJcbiAgZm9yIChsZXQgaSA9IDAsIGsgPSAwOyBpIDwgc3RyTGVuOyBrKyspIHtcclxuICAgIGxldCB7IGxvb3BUaW1lLCBzdGFydEluZGV4LCBvcmRlciB9ID0gYnlTdGVwKGxvb3BBcnIsIGspO1xyXG4gICAgLy8gY29uc29sZS5sb2coYnlTdGVwKGxvb3BBcnIsIGspKTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbG9vcFRpbWUgJiYgaSA8IHN0ckxlbjsgaisrKSB7XHJcbiAgICAgIGFycltzdGFydEluZGV4XS5wdXNoKHNbaV0pO1xyXG4gICAgICBzdGFydEluZGV4ICs9IG9yZGVyO1xyXG4gICAgICBpKys7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhhcnIuam9pbihcIlxcblwiKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJyKS5qb2luKFwiXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleHBsYWluTG9vcEFycihudW06IG51bWJlcik6IG51bWJlcltdIHtcclxuICBjb25zdCByZXN1bHQgPSBbXTtcclxuICBsZXQgdGltZXMgPSAyO1xyXG4gIHdoaWxlIChudW0gPj0gMSAmJiB0aW1lcy0tID4gMCkge1xyXG4gICAgcmVzdWx0LnB1c2gobnVtKTtcclxuICAgIG51bSAtPSAyO1xyXG4gIH1cclxuICByZXR1cm4gWy4uLnJlc3VsdCwgLi4ucmVzdWx0LnNsaWNlKDEsIC0xKV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJ5U3RlcChhcnI6IG51bWJlcltdLCBrOiBudW1iZXIpIHtcclxuICBjb25zdCBhcnJMZW5ndGggPSBhcnIubGVuZ3RoO1xyXG5cclxuICBjb25zdCBsb29wVGltZSA9IGsgJSBhcnJMZW5ndGg7XHJcblxyXG4gIGNvbnN0IG9yZGVyID0gayAlIDIgPT09IDAgfHwgYXJyTGVuZ3RoID09PSAxID8gMSA6IC0xO1xyXG4gIGNvbnN0IHN0YXJ0SW5kZXggPVxyXG4gICAgayAlIDIgPT09IDAgfHwgYXJyTGVuZ3RoID09PSAxXHJcbiAgICAgID8gKGFyclswXSAtIGFycltsb29wVGltZV0pIC8gMlxyXG4gICAgICA6IGFyclswXSAtIDEgLSAoYXJyWzBdIC0gYXJyW2xvb3BUaW1lXSkgLyAyO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbG9vcFRpbWU6IGFycltsb29wVGltZV0sXHJcbiAgICBzdGFydEluZGV4LFxyXG4gICAgb3JkZXIsXHJcbiAgfTtcclxufVxyXG5cclxuaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCI7XHJcblxyXG5hc3NlcnQuc3RyaWN0RXF1YWwoY29udmVydChcIkxFRVRDT0RFSVNISVJJTkdcIiwgMyksIFwiTENJUkVUT0VTSUlHRURITlwiKTtcclxuYXNzZXJ0LnN0cmljdEVxdWFsKGNvbnZlcnQoXCJMRUVUQ09ERUlTSElSSU5HXCIsIDQpLCBcIkxEUkVPRUlJRUNJSE5UU0dcIik7XHJcbiJdfQ==