"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/*
给定正整数 n，找到若干个完全平方数（比如 1, 4, 9, 16, ...）使得它们的和等于 n。你需要让组成和的完全平方数的个数最少。

示例 1:

输入: n = 12
输出: 3
解释: 12 = 4 + 4 + 4.
示例 2:

输入: n = 13
输出: 2
解释: 13 = 4 + 9.
* */
const assert_1 = __importDefault(require("assert"));
/**
 * @param {number} n
 * @return {number}
 */
var numSquares = function (n) {
    // 最完美解法
    // 四平方定理： 任何一个正整数都可以表示成不超过四个整数的平方之和。
    // 推论：满足四数平方和定理的数n（四个整数的情况），必定满足 n=4^a(8b+7)
    while (n % 4 === 0) {
        n /= 4;
    }
    if (n % 8 === 7) {
        return 4;
    }
    let a = 0;
    while (a ** 2 <= n) {
        const b = Math.trunc((n - a ** 2) ** 0.5);
        if (a ** 2 + b ** 2 === n) {
            if (a != 0 && b != 0) {
                return 2;
            }
            else {
                return 1;
            }
        }
        a += 1;
    }
    return 3;
};
var numSquares1 = function (n) {
    // 广度优先
    /**
     * 认为 这个数字 是一个图
     * 求最短路径
     * */
    const list = [];
    const visited = new Set();
    list.push([n, 0]);
    visited.add(n);
    while (list.length) {
        const [num, step] = list.shift();
        // 下一个连接的 节点是 当前节点 减去 i*i
        for (let i = 0; num - i * i >= 0; i++) {
            const next = num - i * i;
            if (next === 0)
                return step + 1;
            if (next < 0)
                break;
            if (!visited.has(next)) {
                list.push([next, step + 1]);
                visited.add(next);
            }
        }
    }
};
var numSquares2 = function (n) {
    const list = [];
    const visited = new Set();
    list.push([0, 0]);
    visited.add(0);
    while (list.length) {
        const [num, step] = list.shift();
        for (let i = 0; num + i * i <= n; i++) {
            const next = num + i * i;
            if (next === n)
                return step + 1;
            // num + i * i 一定小于 n
            if (!visited.has(next)) {
                list.push([next, step + 1]);
                visited.add(next);
            }
        }
    }
};
var numSquares3 = function (n) {
    // 动态规划
    const list = [0];
    for (let i = 1; i <= n; i++) {
        let min = Infinity;
        for (let j = 1; j * j <= i; j++) {
            // 如果当前的值 刚好是完全 平方数 i - j * j 就会等于 0 指向 第一个 list[0]
            // min 就 会是 0
            min = Math.min(min, list[i - j * j]);
        }
        list[i] = min + 1;
    }
    return list[n];
};
assert_1.default.strictEqual(numSquares(12), 3);
assert_1.default.strictEqual(numSquares(13), 2);
assert_1.default.strictEqual(numSquares1(12), 3);
assert_1.default.strictEqual(numSquares1(13), 2);
assert_1.default.strictEqual(numSquares2(12), 3);
assert_1.default.strictEqual(numSquares2(13), 2);
assert_1.default.strictEqual(numSquares3(12), 3);
assert_1.default.strictEqual(numSquares3(13), 2);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc5LuWujOWFqOW5s+aWueaVsC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsibGVldGNvZGUvMjc5LuWujOWFqOW5s+aWueaVsC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0lBYUk7QUFDSixvREFBNEI7QUFFNUI7OztHQUdHO0FBQ0gsSUFBSSxVQUFVLEdBQUcsVUFBVSxDQUFTO0lBQ2hDLFFBQVE7SUFDUixvQ0FBb0M7SUFDcEMsNENBQTRDO0lBQzVDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDaEIsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNWO0lBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNiLE9BQU8sQ0FBQyxDQUFDO0tBQ1o7SUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2hCLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDbEIsT0FBTyxDQUFDLENBQUM7YUFDWjtpQkFBTTtnQkFDSCxPQUFPLENBQUMsQ0FBQzthQUNaO1NBQ0o7UUFDRCxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ1Y7SUFDRCxPQUFPLENBQUMsQ0FBQztBQUdiLENBQUMsQ0FBQztBQUVGLElBQUksV0FBVyxHQUFHLFVBQVUsQ0FBUztJQUNqQyxPQUFPO0lBQ1A7OztTQUdLO0lBQ0wsTUFBTSxJQUFJLEdBQXVCLEVBQUUsQ0FBQztJQUNwQyxNQUFNLE9BQU8sR0FBZ0Is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RyxDQUFDLENBQUM7S0FFckI7SUFFRCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFHRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQ2QsQ0FBQyxDQUNKLENBQUM7QUFDRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQ2QsQ0FBQyxDQUNKLENBQUM7QUFFRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQ2YsQ0FBQyxDQUNKLENBQUM7QUFDRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQ2YsQ0FBQyxDQUNKLENBQUM7QUFFRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQ2YsQ0FBQyxDQUNKLENBQUM7QUFDRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQ2YsQ0FBQyxDQUNKLENBQUM7QUFFRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQ2YsQ0FBQyxDQUNKLENBQUM7QUFDRixnQkFBTSxDQUFDLFdBQVcsQ0FDZCxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQ2YsQ0FBQyxDQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG7nu5nlrprmraPmlbTmlbAgbu+8jOaJvuWIsOiLpeW5suS4quWujOWFqOW5s+aWueaVsO+8iOavlOWmgiAxLCA0LCA5LCAxNiwgLi4u77yJ5L2/5b6X5a6D5Lus55qE5ZKM562J5LqOIG7jgILkvaDpnIDopoHorqnnu4TmiJDlkoznmoTlrozlhajlubPmlrnmlbDnmoTkuKrmlbDmnIDlsJHjgIJcclxuXHJcbuekuuS+iyAxOlxyXG5cclxu6L6T5YWlOiBuID0gMTJcclxu6L6T5Ye6OiAzXHJcbuino+mHijogMTIgPSA0ICsgNCArIDQuXHJcbuekuuS+iyAyOlxyXG5cclxu6L6T5YWlOiBuID0gMTNcclxu6L6T5Ye6OiAyXHJcbuino+mHijogMTMgPSA0ICsgOS5cclxuKiAqL1xyXG5pbXBvcnQgYXNzZXJ0IGZyb20gXCJhc3NlcnRcIjtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gblxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAqL1xyXG52YXIgbnVtU3F1YXJlcyA9IGZ1bmN0aW9uIChuOiBudW1iZXIpIHtcclxuICAgIC8vIOacgOWujOe+juino+azlVxyXG4gICAgLy8g5Zub5bmz5pa55a6a55CG77yaIOS7u+S9leS4gOS4quato+aVtOaVsOmDveWPr+S7peihqOekuuaIkOS4jei2hei/h+Wbm+S4quaVtOaVsOeahOW5s+aWueS5i+WSjOOAglxyXG4gICAgLy8g5o6o6K6677ya5ruh6Laz5Zub5pWw5bmz5pa55ZKM5a6a55CG55qE5pWwbu+8iOWbm+S4quaVtOaVsOeahOaDheWGte+8ie+8jOW/heWumua7oei2syBuPTReYSg4Yis3KVxyXG4gICAgd2hpbGUgKG4gJSA0ID09PSAwKSB7XHJcbiAgICAgICAgbiAvPSA0O1xyXG4gICAgfVxyXG4gICAgaWYgKG4gJSA4ID09PSA3KSB7XHJcbiAgICAgICAgcmV0dXJuIDQ7XHJcbiAgICB9XHJcbiAgICBsZXQgYSA9IDA7XHJcbiAgICB3aGlsZSAoYSAqKiAyIDw9IG4pIHtcclxuICAgICAgICBjb25zdCBiID0gTWF0aC50cnVuYygobiAtIGEgKiogMikgKiogMC41KTtcclxuICAgICAgICBpZiAoYSAqKiAyICsgYiAqKiAyID09PSBuKSB7XHJcbiAgICAgICAgICAgIGlmIChhICE9IDAgJiYgYiAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGEgKz0gMTtcclxuICAgIH1cclxuICAgIHJldHVybiAzO1xyXG5cclxuXHJcbn07XHJcblxyXG52YXIgbnVtU3F1YXJlczEgPSBmdW5jdGlvbiAobjogbnVtYmVyKSB7XHJcbiAgICAvLyDlub/luqbkvJjlhYhcclxuICAgIC8qKlxyXG4gICAgICog6K6k5Li6IOi/meS4quaVsOWtlyDmmK/kuIDkuKrlm75cclxuICAgICAqIOaxguacgOefrei3r+W+hFxyXG4gICAgICogKi9cclxuICAgIGNvbnN0IGxpc3Q6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgY29uc3QgdmlzaXRlZDogU2V0PG51bWJlcj4gPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgbGlzdC5wdXNoKFtuLCAwXSk7XHJcbiAgICB2aXNpdGVkLmFkZChuKTtcclxuICAgIHdoaWxlIChsaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IFtudW0sIHN0ZXBdID0gbGlzdC5zaGlmdCgpITtcclxuICAgICAgICAvLyDkuIvkuIDkuKrov57mjqXnmoQg6IqC54K55pivIOW9k+WJjeiKgueCuSDlh4/ljrsgaSppXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IG51bSAtIGkgKiBpID49IDA7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gbnVtIC0gaSAqIGk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSAwKSByZXR1cm4gc3RlcCArIDE7XHJcbiAgICAgICAgICAgIGlmIChuZXh0IDwgMCkgYnJlYWs7XHJcbiAgICAgICAgICAgIGlmICghdmlzaXRlZC5oYXMobmV4dCkpIHtcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChbbmV4dCwgc3RlcCArIDFdKTtcclxuICAgICAgICAgICAgICAgIHZpc2l0ZWQuYWRkKG5leHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxudmFyIG51bVNxdWFyZXMyID0gZnVuY3Rpb24gKG46IG51bWJlcikge1xyXG4gICAgY29uc3QgbGlzdDogW251bWJlciwgbnVtYmVyXVtdID0gW107XHJcbiAgICBjb25zdCB2aXNpdGVkOiBTZXQ8bnVtYmVyPiA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICBsaXN0LnB1c2goWzAsIDBdKTtcclxuICAgIHZpc2l0ZWQuYWRkKDApO1xyXG5cclxuICAgIHdoaWxlIChsaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IFtudW0sIHN0ZXBdID0gbGlzdC5zaGlmdCgpITtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgbnVtICsgaSAqIGkgPD0gbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBudW0gKyBpICogaTtcclxuICAgICAgICAgICAgaWYgKG5leHQgPT09IG4pIHJldHVybiBzdGVwICsgMTtcclxuICAgICAgICAgICAgLy8gbnVtICsgaSAqIGkg5LiA5a6a5bCP5LqOIG5cclxuICAgICAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhuZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKFtuZXh0LCBzdGVwICsgMV0pO1xyXG4gICAgICAgICAgICAgICAgdmlzaXRlZC5hZGQobmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG52YXIgbnVtU3F1YXJlczMgPSBmdW5jdGlvbiAobjogbnVtYmVyKSB7XHJcbiAgICAvLyDliqjmgIHop4TliJJcclxuICAgIGNvbnN0IGxpc3Q6IG51bWJlcltdID0gWzBdO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7XHJcbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xyXG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqICogaiA8PSBpOyBqKyspIHtcclxuICAgICAgICAgICAgLy8g5aaC5p6c5b2T5YmN55qE5YC8IOWImuWlveaYr+WujOWFqCDlubPmlrnmlbAgaSAtIGogKiBqIOWwseS8muetieS6jiAwIOaMh+WQkSDnrKzkuIDkuKogbGlzdFswXVxyXG4gICAgICAgICAgICAvLyBtaW4g5bCxIOS8muaYryAwXHJcbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgbGlzdFtpIC0gaiAqIGpdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGlzdFtpXSA9IG1pbiArIDE7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsaXN0W25dO1xyXG59O1xyXG5cclxuXHJcbmFzc2VydC5zdHJpY3RFcXVhbChcclxuICAgIG51bVNxdWFyZXMoMTIpLFxyXG4gICAgMyxcclxuKTtcclxuYXNzZXJ0LnN0cmljdEVxdWFsKFxyXG4gICAgbnVtU3F1YXJlcygxMyksXHJcbiAgICAyLFxyXG4pO1xyXG5cclxuYXNzZXJ0LnN0cmljdEVxdWFsKFxyXG4gICAgbnVtU3F1YXJlczEoMTIpLFxyXG4gICAgMyxcclxuKTtcclxuYXNzZXJ0LnN0cmljdEVxdWFsKFxyXG4gICAgbnVtU3F1YXJlczEoMTMpLFxyXG4gICAgMixcclxuKTtcclxuXHJcbmFzc2VydC5zdHJpY3RFcXVhbChcclxuICAgIG51bVNxdWFyZXMyKDEyKSxcclxuICAgIDMsXHJcbik7XHJcbmFzc2VydC5zdHJpY3RFcXVhbChcclxuICAgIG51bVNxdWFyZXMyKDEzKSxcclxuICAgIDIsXHJcbik7XHJcblxyXG5hc3NlcnQuc3RyaWN0RXF1YWwoXHJcbiAgICBudW1TcXVhcmVzMygxMiksXHJcbiAgICAzLFxyXG4pO1xyXG5hc3NlcnQuc3RyaWN0RXF1YWwoXHJcbiAgICBudW1TcXVhcmVzMygxMyksXHJcbiAgICAyLFxyXG4pO1xyXG5cclxuXHJcbiJdfQ==