"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/*
给定正整数 n，找到若干个完全平方数（比如 1, 4, 9, 16, ...）使得它们的和等于 n。你需要让组成和的完全平方数的个数最少。

示例 1:

输入: n = 12
输出: 3
解释: 12 = 4 + 4 + 4.
示例 2:

输入: n = 13
输出: 2
解释: 13 = 4 + 9.
* */
const assert_1 = __importDefault(require("assert"));
/**
 * @param {number} n
 * @return {number}
 */
var numSquares = function (n) {
    // 最完美解法
    // 四平方定理： 任何一个正整数都可以表示成不超过四个整数的平方之和。
    // 推论：满足四数平方和定理的数n（四个整数的情况），必定满足 n=4^a(8b+7)
    while (n % 4 === 0) {
        n /= 4;
    }
    if (n % 8 === 7) {
        return 4;
    }
    let a = 0;
    while (a ** 2 <= n) {
        const b = Math.trunc((n - a ** 2) ** 0.5);
        if (a ** 2 + b ** 2 === n) {
            if (a != 0 && b != 0) {
                return 2;
            }
            else {
                return 1;
            }
        }
        a += 1;
    }
    return 3;
};
var numSquares1 = function (n) {
    // 广度优先
    /**
     * 认为 这个数字 是一个图
     * 求最短路径
     * */
    const list = [];
    const visited = new Set();
    list.push([n, 0]);
    visited.add(n);
    while (list.length) {
        const [num, step] = list.shift();
        // 下一个连接的 节点是 当前节点 减去 i*i
        for (let i = 0; num - i * i >= 0; i++) {
            const next = num - i * i;
            if (next === 0)
                return step + 1;
            if (next < 0)
                break;
            if (!visited.has(next)) {
                list.push([next, step + 1]);
                visited.add(next);
            }
        }
    }
};
var numSquares2 = function (n) {
    const list = [];
    const visited = new Set();
    list.push([0, 0]);
    visited.add(0);
    while (list.length) {
        const [num, step] = list.shift();
        for (let i = 0; num + i * i <= n; i++) {
            const next = num + i * i;
            if (next === n)
                return step + 1;
            // num + i * i 一定小于 n
            if (!visited.has(next)) {
                list.push([next, step + 1]);
                visited.add(next);
            }
        }
    }
};
var numSquares3 = function (n) {
    // 动态规划
    const list = [0];
    for (let i = 1; i <= n; i++) {
        let min = Infinity;
        for (let j = 1; j * j <= i; j++) {
            // 如果当前的值 刚好是完全 平方数 i - j * j 就会等于 0 指向 第一个 list[0]
            // min 就 会是 0
            min = Math.min(min, list[i - j * j]);
        }
        list[i] = min + 1;
    }
    return list[n];
};
assert_1.default.strictEqual(numSquares(12), 3);
assert_1.default.strictEqual(numSquares(13), 2);
assert_1.default.strictEqual(numSquares1(12), 3);
assert_1.default.strictEqual(numSquares1(13), 2);
assert_1.default.strictEqual(numSquares2(12), 3);
assert_1.default.strictEqual(numSquares2(13), 2);
assert_1.default.strictEqual(numSquares3(12), 3);
assert_1.default.strictEqual(numSquares3(13), 2);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc5LuWujOWFqOW5s+aWueaVsC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsibGVldGNvZGUvMjc5LuWujOWFqOW5s+aWueaVsC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0lBYUk7QUFDSixvREFBNEI7QUFFNUI7OztHQUdHO0FBQ0gsSUFBSSxVQUFVLEdBQUcsVUFBVSxDQUFTO0lBQ2xDLFFBQVE7SUFDUixvQ0FBb0M7SUFDcEMsNENBQTRDO0lBQzVDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDbEIsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNSO0lBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNmLE9BQU8sQ0FBQyxDQUFDO0tBQ1Y7SUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2xCLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDcEIsT0FBTyxDQUFDLENBQUM7YUFDVjtpQkFBTTtnQkFDTCxPQUFPLENBQUMsQ0FBQzthQUNWO1NBQ0Y7UUFDRCxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ1I7SUFDRCxPQUFPLENBQUMsQ0FBQztBQUNYLENBQUMsQ0FBQztBQUVGLElBQUksV0FBVyxHQUFHLFVBQVUsQ0FBUztJQUNuQyxPQUFPO0lBQ1A7OztTQUdLO0lBQ0wsTUFBTSxJQUFJLEdBQXVCLEVBQUUsQ0FBQztJQUNwQyxNQUFNLE9BQU8sR0FBZ0Is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RyxDQUFDLENBQUM7S0FDbkI7SUFFRCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQixDQUFDLENBQUM7QUFFRixnQkFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdEMsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBRXRDLGdCQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN2QyxnQkFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFFdkMsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDLGdCQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUV2QyxnQkFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdkMsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbue7meWumuato+aVtOaVsCBu77yM5om+5Yiw6Iul5bmy5Liq5a6M5YWo5bmz5pa55pWw77yI5q+U5aaCIDEsIDQsIDksIDE2LCAuLi7vvInkvb/lvpflroPku6znmoTlkoznrYnkuo4gbuOAguS9oOmcgOimgeiuqee7hOaIkOWSjOeahOWujOWFqOW5s+aWueaVsOeahOS4quaVsOacgOWwkeOAglxuXG7npLrkvosgMTpcblxu6L6T5YWlOiBuID0gMTJcbui+k+WHujogM1xu6Kej6YeKOiAxMiA9IDQgKyA0ICsgNC5cbuekuuS+iyAyOlxuXG7ovpPlhaU6IG4gPSAxM1xu6L6T5Ye6OiAyXG7op6Pph4o6IDEzID0gNCArIDkuXG4qICovXG5pbXBvcnQgYXNzZXJ0IGZyb20gXCJhc3NlcnRcIjtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gblxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG52YXIgbnVtU3F1YXJlcyA9IGZ1bmN0aW9uIChuOiBudW1iZXIpIHtcbiAgLy8g5pyA5a6M576O6Kej5rOVXG4gIC8vIOWbm+W5s+aWueWumueQhu+8miDku7vkvZXkuIDkuKrmraPmlbTmlbDpg73lj6/ku6XooajnpLrmiJDkuI3otoXov4flm5vkuKrmlbTmlbDnmoTlubPmlrnkuYvlkozjgIJcbiAgLy8g5o6o6K6677ya5ruh6Laz5Zub5pWw5bmz5pa55ZKM5a6a55CG55qE5pWwbu+8iOWbm+S4quaVtOaVsOeahOaDheWGte+8ie+8jOW/heWumua7oei2syBuPTReYSg4Yis3KVxuICB3aGlsZSAobiAlIDQgPT09IDApIHtcbiAgICBuIC89IDQ7XG4gIH1cbiAgaWYgKG4gJSA4ID09PSA3KSB7XG4gICAgcmV0dXJuIDQ7XG4gIH1cbiAgbGV0IGEgPSAwO1xuICB3aGlsZSAoYSAqKiAyIDw9IG4pIHtcbiAgICBjb25zdCBiID0gTWF0aC50cnVuYygobiAtIGEgKiogMikgKiogMC41KTtcbiAgICBpZiAoYSAqKiAyICsgYiAqKiAyID09PSBuKSB7XG4gICAgICBpZiAoYSAhPSAwICYmIGIgIT0gMCkge1xuICAgICAgICByZXR1cm4gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgIH1cbiAgICBhICs9IDE7XG4gIH1cbiAgcmV0dXJuIDM7XG59O1xuXG52YXIgbnVtU3F1YXJlczEgPSBmdW5jdGlvbiAobjogbnVtYmVyKSB7XG4gIC8vIOW5v+W6puS8mOWFiFxuICAvKipcbiAgICog6K6k5Li6IOi/meS4quaVsOWtlyDmmK/kuIDkuKrlm75cbiAgICog5rGC5pyA55+t6Lev5b6EXG4gICAqICovXG4gIGNvbnN0IGxpc3Q6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xuICBjb25zdCB2aXNpdGVkOiBTZXQ8bnVtYmVyPiA9IG5ldyBTZXQoKTtcblxuICBsaXN0LnB1c2goW24sIDBdKTtcbiAgdmlzaXRlZC5hZGQobik7XG4gIHdoaWxlIChsaXN0Lmxlbmd0aCkge1xuICAgIGNvbnN0IFtudW0sIHN0ZXBdID0gbGlzdC5zaGlmdCgpITtcbiAgICAvLyDkuIvkuIDkuKrov57mjqXnmoQg6IqC54K55pivIOW9k+WJjeiKgueCuSDlh4/ljrsgaSppXG4gICAgZm9yIChsZXQgaSA9IDA7IG51bSAtIGkgKiBpID49IDA7IGkrKykge1xuICAgICAgY29uc3QgbmV4dCA9IG51bSAtIGkgKiBpO1xuICAgICAgaWYgKG5leHQgPT09IDApIHJldHVybiBzdGVwICsgMTtcbiAgICAgIGlmIChuZXh0IDwgMCkgYnJlYWs7XG4gICAgICBpZiAoIXZpc2l0ZWQuaGFzKG5leHQpKSB7XG4gICAgICAgIGxpc3QucHVzaChbbmV4dCwgc3RlcCArIDFdKTtcbiAgICAgICAgdmlzaXRlZC5hZGQobmV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgbnVtU3F1YXJlczIgPSBmdW5jdGlvbiAobjogbnVtYmVyKSB7XG4gIGNvbnN0IGxpc3Q6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xuICBjb25zdCB2aXNpdGVkOiBTZXQ8bnVtYmVyPiA9IG5ldyBTZXQoKTtcblxuICBsaXN0LnB1c2goWzAsIDBdKTtcbiAgdmlzaXRlZC5hZGQoMCk7XG5cbiAgd2hpbGUgKGxpc3QubGVuZ3RoKSB7XG4gICAgY29uc3QgW251bSwgc3RlcF0gPSBsaXN0LnNoaWZ0KCkhO1xuICAgIGZvciAobGV0IGkgPSAwOyBudW0gKyBpICogaSA8PSBuOyBpKyspIHtcbiAgICAgIGNvbnN0IG5leHQgPSBudW0gKyBpICogaTtcbiAgICAgIGlmIChuZXh0ID09PSBuKSByZXR1cm4gc3RlcCArIDE7XG4gICAgICAvLyBudW0gKyBpICogaSDkuIDlrprlsI/kuo4gblxuICAgICAgaWYgKCF2aXNpdGVkLmhhcyhuZXh0KSkge1xuICAgICAgICBsaXN0LnB1c2goW25leHQsIHN0ZXAgKyAxXSk7XG4gICAgICAgIHZpc2l0ZWQuYWRkKG5leHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIG51bVNxdWFyZXMzID0gZnVuY3Rpb24gKG46IG51bWJlcikge1xuICAvLyDliqjmgIHop4TliJJcbiAgY29uc3QgbGlzdDogbnVtYmVyW10gPSBbMF07XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IG47IGkrKykge1xuICAgIGxldCBtaW4gPSBJbmZpbml0eTtcbiAgICBmb3IgKGxldCBqID0gMTsgaiAqIGogPD0gaTsgaisrKSB7XG4gICAgICAvLyDlpoLmnpzlvZPliY3nmoTlgLwg5Yia5aW95piv5a6M5YWoIOW5s+aWueaVsCBpIC0gaiAqIGog5bCx5Lya562J5LqOIDAg5oyH5ZCRIOesrOS4gOS4qiBsaXN0WzBdXG4gICAgICAvLyBtaW4g5bCxIOS8muaYryAwXG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGxpc3RbaSAtIGogKiBqXSk7XG4gICAgfVxuICAgIGxpc3RbaV0gPSBtaW4gKyAxO1xuICB9XG5cbiAgcmV0dXJuIGxpc3Rbbl07XG59O1xuXG5hc3NlcnQuc3RyaWN0RXF1YWwobnVtU3F1YXJlcygxMiksIDMpO1xuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVNxdWFyZXMoMTMpLCAyKTtcblxuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVNxdWFyZXMxKDEyKSwgMyk7XG5hc3NlcnQuc3RyaWN0RXF1YWwobnVtU3F1YXJlczEoMTMpLCAyKTtcblxuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVNxdWFyZXMyKDEyKSwgMyk7XG5hc3NlcnQuc3RyaWN0RXF1YWwobnVtU3F1YXJlczIoMTMpLCAyKTtcblxuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVNxdWFyZXMzKDEyKSwgMyk7XG5hc3NlcnQuc3RyaWN0RXF1YWwobnVtU3F1YXJlczMoMTMpLCAyKTtcbiJdfQ==