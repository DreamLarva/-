"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/*
给定正整数 n，找到若干个完全平方数（比如 1, 4, 9, 16, ...）使得它们的和等于 n。你需要让组成和的完全平方数的个数最少。

示例 1:

输入: n = 12
输出: 3
解释: 12 = 4 + 4 + 4.
示例 2:

输入: n = 13
输出: 2
解释: 13 = 4 + 9.
* */
const assert_1 = __importDefault(require("assert"));
/**
 * @param {number} n
 * @return {number}
 */
var numSquares = function (n) {
    // 最完美解法
    // 四平方定理： 任何一个正整数都可以表示成不超过四个整数的平方之和。
    // 推论：满足四数平方和定理的数n（四个整数的情况），必定满足 n=4^a(8b+7)
    while (n % 4 === 0) {
        n /= 4;
    }
    if (n % 8 === 7) {
        return 4;
    }
    let a = 0;
    while (a ** 2 <= n) {
        const b = Math.trunc((n - a ** 2) ** 0.5);
        if (a ** 2 + b ** 2 === n) {
            if (a != 0 && b != 0) {
                return 2;
            }
            else {
                return 1;
            }
        }
        a += 1;
    }
    return 3;
};
var numSquares1 = function (n) {
    // 广度优先
    /**
     * 认为 这个数字 是一个图
     * 求最短路径
     * */
    const list = [];
    const visited = new Set();
    list.push([n, 0]);
    visited.add(n);
    while (list.length) {
        const [num, step] = list.shift();
        // 下一个连接的 节点是 当前节点 减去 i*i
        for (let i = 0; num - i * i >= 0; i++) {
            const next = num - i * i;
            if (next === 0)
                return step + 1;
            if (next < 0)
                break;
            if (!visited.has(next)) {
                list.push([next, step + 1]);
                visited.add(next);
            }
        }
    }
};
var numSquares2 = function (n) {
    const list = [];
    const visited = new Set();
    list.push([0, 0]);
    visited.add(0);
    while (list.length) {
        const [num, step] = list.shift();
        for (let i = 0; num + i * i <= n; i++) {
            const next = num + i * i;
            if (next === n)
                return step + 1;
            // num + i * i 一定小于 n
            if (!visited.has(next)) {
                list.push([next, step + 1]);
                visited.add(next);
            }
        }
    }
};
var numSquares3 = function (n) {
    // 动态规划
    const list = [0];
    for (let i = 1; i <= n; i++) {
        let min = Infinity;
        for (let j = 1; j * j <= i; j++) {
            // 如果当前的值 刚好是完全 平方数 i - j * j 就会等于 0 指向 第一个 list[0]
            // min 就 会是 0
            min = Math.min(min, list[i - j * j]);
        }
        list[i] = min + 1;
    }
    return list[n];
};
assert_1.default.strictEqual(numSquares(12), 3);
assert_1.default.strictEqual(numSquares(13), 2);
assert_1.default.strictEqual(numSquares1(12), 3);
assert_1.default.strictEqual(numSquares1(13), 2);
assert_1.default.strictEqual(numSquares2(12), 3);
assert_1.default.strictEqual(numSquares2(13), 2);
assert_1.default.strictEqual(numSquares3(12), 3);
assert_1.default.strictEqual(numSquares3(13), 2);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc5LuWujOWFqOW5s+aWueaVsC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsibGVldGNvZGUvMjc5LuWujOWFqOW5s+aWueaVsC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7O0lBYUk7QUFDSixvREFBNEI7QUFFNUI7OztHQUdHO0FBQ0gsSUFBSSxVQUFVLEdBQUcsVUFBVSxDQUFTO0lBQ2xDLFFBQVE7SUFDUixvQ0FBb0M7SUFDcEMsNENBQTRDO0lBQzVDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDbEIsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNSO0lBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNmLE9BQU8sQ0FBQyxDQUFDO0tBQ1Y7SUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2xCLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDcEIsT0FBTyxDQUFDLENBQUM7YUFDVjtpQkFBTTtnQkFDTCxPQUFPLENBQUMsQ0FBQzthQUNWO1NBQ0Y7UUFDRCxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ1I7SUFDRCxPQUFPLENBQUMsQ0FBQztBQUNYLENBQUMsQ0FBQztBQUVGLElBQUksV0FBVyxHQUFHLFVBQVUsQ0FBUztJQUNuQyxPQUFPO0lBQ1A7OztTQUdLO0lBQ0wsTUFBTSxJQUFJLEdBQXVCLEVBQUUsQ0FBQztJQUNwQyxNQUFNLE9BQU8sR0FBZ0IsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUV2QyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNmLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNsQixNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUcsQ0FBQztRQUNsQyx5QkFBeUI7UUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3JDLE1BQU0sSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pCLElBQUksSUFBSSxLQUFLLENBQUM7Z0JBQUUsT0FBTyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQ2hDLElBQUksSUFBSSxHQUFHLENBQUM7Z0JBQUUsTUFBTTtZQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNuQjtTQUNGO0tBQ0Y7QUFDSCxDQUFDLENBQUM7QUFFRixJQUFJLFdBQVcsR0FBRyxVQUFVLENBQVM7SUFDbkMsTUFBTSxJQUFJLEdBQXVCLEVBQUUsQ0FBQztJQUNwQyxNQUFNLE9BQU8sR0FBZ0IsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUV2QyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVmLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNsQixNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUcsQ0FBQztRQUNsQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDckMsTUFBTSxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDekIsSUFBSSxJQUFJLEtBQUssQ0FBQztnQkFBRSxPQUFPLElBQUksR0FBRyxDQUFDLENBQUM7WUFDaEMscUJBQXFCO1lBQ3JCLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ25CO1NBQ0Y7S0FDRjtBQUNILENBQUMsQ0FBQztBQUVGLElBQUksV0FBVyxHQUFHLFVBQVUsQ0FBUztJQUNuQyxPQUFPO0lBQ1AsTUFBTSxJQUFJLEdBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzNCLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQztRQUNuQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMvQixtREFBbUQ7WUFDbkQsYUFBYTtZQUNiLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RDO1FBQ0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDbkI7SUFFRCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQixDQUFDLENBQUM7QUFFRixnQkFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdEMsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBRXRDLGdCQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN2QyxnQkFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFFdkMsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDLGdCQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUV2QyxnQkFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdkMsZ0JBQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxu57uZ5a6a5q2j5pW05pWwIG7vvIzmib7liLDoi6XlubLkuKrlrozlhajlubPmlrnmlbDvvIjmr5TlpoIgMSwgNCwgOSwgMTYsIC4uLu+8ieS9v+W+l+Wug+S7rOeahOWSjOetieS6jiBu44CC5L2g6ZyA6KaB6K6p57uE5oiQ5ZKM55qE5a6M5YWo5bmz5pa55pWw55qE5Liq5pWw5pyA5bCR44CCXHJcblxyXG7npLrkvosgMTpcclxuXHJcbui+k+WFpTogbiA9IDEyXHJcbui+k+WHujogM1xyXG7op6Pph4o6IDEyID0gNCArIDQgKyA0LlxyXG7npLrkvosgMjpcclxuXHJcbui+k+WFpTogbiA9IDEzXHJcbui+k+WHujogMlxyXG7op6Pph4o6IDEzID0gNCArIDkuXHJcbiogKi9cclxuaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCI7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IG5cclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cclxudmFyIG51bVNxdWFyZXMgPSBmdW5jdGlvbiAobjogbnVtYmVyKSB7XHJcbiAgLy8g5pyA5a6M576O6Kej5rOVXHJcbiAgLy8g5Zub5bmz5pa55a6a55CG77yaIOS7u+S9leS4gOS4quato+aVtOaVsOmDveWPr+S7peihqOekuuaIkOS4jei2hei/h+Wbm+S4quaVtOaVsOeahOW5s+aWueS5i+WSjOOAglxyXG4gIC8vIOaOqOiuuu+8mua7oei2s+Wbm+aVsOW5s+aWueWSjOWumueQhueahOaVsG7vvIjlm5vkuKrmlbTmlbDnmoTmg4XlhrXvvInvvIzlv4Xlrprmu6HotrMgbj00XmEoOGIrNylcclxuICB3aGlsZSAobiAlIDQgPT09IDApIHtcclxuICAgIG4gLz0gNDtcclxuICB9XHJcbiAgaWYgKG4gJSA4ID09PSA3KSB7XHJcbiAgICByZXR1cm4gNDtcclxuICB9XHJcbiAgbGV0IGEgPSAwO1xyXG4gIHdoaWxlIChhICoqIDIgPD0gbikge1xyXG4gICAgY29uc3QgYiA9IE1hdGgudHJ1bmMoKG4gLSBhICoqIDIpICoqIDAuNSk7XHJcbiAgICBpZiAoYSAqKiAyICsgYiAqKiAyID09PSBuKSB7XHJcbiAgICAgIGlmIChhICE9IDAgJiYgYiAhPSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGEgKz0gMTtcclxuICB9XHJcbiAgcmV0dXJuIDM7XHJcbn07XHJcblxyXG52YXIgbnVtU3F1YXJlczEgPSBmdW5jdGlvbiAobjogbnVtYmVyKSB7XHJcbiAgLy8g5bm/5bqm5LyY5YWIXHJcbiAgLyoqXHJcbiAgICog6K6k5Li6IOi/meS4quaVsOWtlyDmmK/kuIDkuKrlm75cclxuICAgKiDmsYLmnIDnn63ot6/lvoRcclxuICAgKiAqL1xyXG4gIGNvbnN0IGxpc3Q6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gIGNvbnN0IHZpc2l0ZWQ6IFNldDxudW1iZXI+ID0gbmV3IFNldCgpO1xyXG5cclxuICBsaXN0LnB1c2goW24sIDBdKTtcclxuICB2aXNpdGVkLmFkZChuKTtcclxuICB3aGlsZSAobGlzdC5sZW5ndGgpIHtcclxuICAgIGNvbnN0IFtudW0sIHN0ZXBdID0gbGlzdC5zaGlmdCgpITtcclxuICAgIC8vIOS4i+S4gOS4qui/nuaOpeeahCDoioLngrnmmK8g5b2T5YmN6IqC54K5IOWHj+WOuyBpKmlcclxuICAgIGZvciAobGV0IGkgPSAwOyBudW0gLSBpICogaSA+PSAwOyBpKyspIHtcclxuICAgICAgY29uc3QgbmV4dCA9IG51bSAtIGkgKiBpO1xyXG4gICAgICBpZiAobmV4dCA9PT0gMCkgcmV0dXJuIHN0ZXAgKyAxO1xyXG4gICAgICBpZiAobmV4dCA8IDApIGJyZWFrO1xyXG4gICAgICBpZiAoIXZpc2l0ZWQuaGFzKG5leHQpKSB7XHJcbiAgICAgICAgbGlzdC5wdXNoKFtuZXh0LCBzdGVwICsgMV0pO1xyXG4gICAgICAgIHZpc2l0ZWQuYWRkKG5leHQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxudmFyIG51bVNxdWFyZXMyID0gZnVuY3Rpb24gKG46IG51bWJlcikge1xyXG4gIGNvbnN0IGxpc3Q6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gIGNvbnN0IHZpc2l0ZWQ6IFNldDxudW1iZXI+ID0gbmV3IFNldCgpO1xyXG5cclxuICBsaXN0LnB1c2goWzAsIDBdKTtcclxuICB2aXNpdGVkLmFkZCgwKTtcclxuXHJcbiAgd2hpbGUgKGxpc3QubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBbbnVtLCBzdGVwXSA9IGxpc3Quc2hpZnQoKSE7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgbnVtICsgaSAqIGkgPD0gbjsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG5leHQgPSBudW0gKyBpICogaTtcclxuICAgICAgaWYgKG5leHQgPT09IG4pIHJldHVybiBzdGVwICsgMTtcclxuICAgICAgLy8gbnVtICsgaSAqIGkg5LiA5a6a5bCP5LqOIG5cclxuICAgICAgaWYgKCF2aXNpdGVkLmhhcyhuZXh0KSkge1xyXG4gICAgICAgIGxpc3QucHVzaChbbmV4dCwgc3RlcCArIDFdKTtcclxuICAgICAgICB2aXNpdGVkLmFkZChuZXh0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbnZhciBudW1TcXVhcmVzMyA9IGZ1bmN0aW9uIChuOiBudW1iZXIpIHtcclxuICAvLyDliqjmgIHop4TliJJcclxuICBjb25zdCBsaXN0OiBudW1iZXJbXSA9IFswXTtcclxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBuOyBpKyspIHtcclxuICAgIGxldCBtaW4gPSBJbmZpbml0eTtcclxuICAgIGZvciAobGV0IGogPSAxOyBqICogaiA8PSBpOyBqKyspIHtcclxuICAgICAgLy8g5aaC5p6c5b2T5YmN55qE5YC8IOWImuWlveaYr+WujOWFqCDlubPmlrnmlbAgaSAtIGogKiBqIOWwseS8muetieS6jiAwIOaMh+WQkSDnrKzkuIDkuKogbGlzdFswXVxyXG4gICAgICAvLyBtaW4g5bCxIOS8muaYryAwXHJcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgbGlzdFtpIC0gaiAqIGpdKTtcclxuICAgIH1cclxuICAgIGxpc3RbaV0gPSBtaW4gKyAxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGxpc3Rbbl07XHJcbn07XHJcblxyXG5hc3NlcnQuc3RyaWN0RXF1YWwobnVtU3F1YXJlcygxMiksIDMpO1xyXG5hc3NlcnQuc3RyaWN0RXF1YWwobnVtU3F1YXJlcygxMyksIDIpO1xyXG5cclxuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVNxdWFyZXMxKDEyKSwgMyk7XHJcbmFzc2VydC5zdHJpY3RFcXVhbChudW1TcXVhcmVzMSgxMyksIDIpO1xyXG5cclxuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVNxdWFyZXMyKDEyKSwgMyk7XHJcbmFzc2VydC5zdHJpY3RFcXVhbChudW1TcXVhcmVzMigxMyksIDIpO1xyXG5cclxuYXNzZXJ0LnN0cmljdEVxdWFsKG51bVNxdWFyZXMzKDEyKSwgMyk7XHJcbmFzc2VydC5zdHJpY3RFcXVhbChudW1TcXVhcmVzMygxMyksIDIpO1xyXG4iXX0=