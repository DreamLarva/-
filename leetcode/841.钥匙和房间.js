"use strict";
/*
有 N 个房间，开始时你位于 0 号房间。每个房间有不同的号码：0，1，2，...，N-1，并且房间里可能有一些钥匙能使你进入下一个房间。

在形式上，对于每个房间 i 都有一个钥匙列表 rooms[i]，每个钥匙 rooms[i][j] 由 [0,1，...，N-1] 中的一个整数表示，其中 N = rooms.length。
钥匙 rooms[i][j] = v 可以打开编号为 v 的房间。

最初，除 0 号房间外的其余所有房间都被锁住。

你可以自由地在房间之间来回走动。

如果能进入每个房间返回 true，否则返回 false。

示例 1：

输入: [[1],[2],[3],[]]
输出: true
解释:
我们从 0 号房间开始，拿到钥匙 1。
之后我们去 1 号房间，拿到钥匙 2。
然后我们去 2 号房间，拿到钥匙 3。
最后我们去了 3 号房间。
由于我们能够进入每个房间，我们返回 true。
示例 2：

输入：[[1,3],[3,0,1],[2],[0]]
输出：false
解释：我们不能进入 2 号房间。
提示：

1 <= rooms.length <= 1000
0 <= rooms[i].length <= 1000
所有房间中的钥匙数量总计不超过 3000。
* */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @param {number[][]} rooms
 * @return {boolean}
 */
var canVisitAllRooms = function (rooms) {
    // bfs
    let list = [];
    const set = new Set();
    let room_visited = 0;
    list.push(0);
    while (list.length) {
        const room_num = list.shift();
        if (set.has(room_num))
            continue;
        if (rooms[room_num]) {
            list = list.concat(rooms[room_num]);
            set.add(room_num);
            room_visited++;
        }
    }
    return room_visited === rooms.length;
};
var canVisitAllRooms2 = function (rooms) {
    // bfs
    let list = [];
    const cache = Array(rooms.length).fill(false);
    let room_visited = 0;
    list.push(0);
    while (list.length) {
        const room_num = list.shift();
        if (cache[room_num])
            continue;
        if (rooms[room_num]) {
            list = list.concat(rooms[room_num]);
            cache[room_num] = true;
            room_visited++;
        }
    }
    return room_visited === rooms.length;
};
const assert_1 = __importDefault(require("assert"));
assert_1.default.strictEqual(canVisitAllRooms([[1], [2], [3], []]), true);
assert_1.default.strictEqual(canVisitAllRooms([[1, 3], [3, 0, 1], [2], [0]]), false);
assert_1.default.strictEqual(canVisitAllRooms2([[1], [2], [3], []]), true);
assert_1.default.strictEqual(canVisitAllRooms2([[1, 3], [3, 0, 1], [2], [0]]), false);
const Benchmark = require("benchmark");
const suite = new Benchmark.Suite();
suite
    .add("set", function () {
    canVisitAllRooms([
        [1, 3],
        [3, 0, 1],
        [2],
        [0],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
    ]);
})
    .add("array", function () {
    canVisitAllRooms2([
        [1, 3],
        [3, 0, 1],
        [2],
        [0],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
        [3, 0, 1],
    ]);
})
    // add listeners
    .on("cycle", function (event) {
    console.log(String(event.target));
})
    .on("complete", function () {
    console.log("Fastest is " + this.filter("fastest").map("name"));
})
    // run async
    .run({ async: false });
/**
 * 竟然还是 set 的快那么点......
 * */
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQxLumSpeWMmeWSjOaIv+mXtC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsibGVldGNvZGUvODQxLumSpeWMmeWSjOaIv+mXtC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZ0NJOzs7OztBQUVKOzs7R0FHRztBQUNILElBQUksZ0JBQWdCLEdBQUcsVUFBVSxLQUFpQjtJQUNoRCxNQUFNO0lBQ04sSUFBSSxJQUFJLEdBQWEsRUFBRSxDQUFDO0lBQ3hCLE1BQU0sR0FBRyxHQUFnQixJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ25DLElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQztJQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2IsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ2xCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUcsQ0FBQztRQUMvQixJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1lBQUUsU0FBUztRQUVoQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNuQixJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNwQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2xCLFlBQVksRUFBRSxDQUFDO1NBQ2hCO0tBQ0Y7SUFFRCxPQUFPLFlBQVksS0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDO0FBQ3ZDLENBQUMsQ0FBQztBQUVGLElBQUksaUJBQWlCLEdBQUcsVUFBVSxLQUFpQjtJQUNqRCxNQUFNO0lBQ04sSUFBSSxJQUFJLEdBQWEsRUFBRSxDQUFDO0lBQ3hCLE1BQU0sS0FBSyxHQUFjLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pELElB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QUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNULENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDVCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ1QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNULENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDVixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7SUFFRixnQkFBZ0I7S0FDZixFQUFFLENBQUMsT0FBTyxFQUFFLFVBQVUsS0FBVTtJQUMvQixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUNwQyxDQUFDLENBQUM7S0FDRCxFQUFFLENBQUMsVUFBVSxFQUFFO0lBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUNsRSxDQUFDLENBQUM7SUFDRixZQUFZO0tBQ1gsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7QUFFekI7O0tBRUsiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxu5pyJIE4g5Liq5oi/6Ze077yM5byA5aeL5pe25L2g5L2N5LqOIDAg5Y+35oi/6Ze044CC5q+P5Liq5oi/6Ze05pyJ5LiN5ZCM55qE5Y+356CB77yaMO+8jDHvvIwy77yMLi4u77yMTi0x77yM5bm25LiU5oi/6Ze06YeM5Y+v6IO95pyJ5LiA5Lqb6ZKl5YyZ6IO95L2/5L2g6L+b5YWl5LiL5LiA5Liq5oi/6Ze044CCXG5cbuWcqOW9ouW8j+S4iu+8jOWvueS6juavj+S4quaIv+mXtCBpIOmDveacieS4gOS4qumSpeWMmeWIl+ihqCByb29tc1tpXe+8jOavj+S4qumSpeWMmSByb29tc1tpXVtqXSDnlLEgWzAsMe+8jC4uLu+8jE4tMV0g5Lit55qE5LiA5Liq5pW05pWw6KGo56S677yM5YW25LitIE4gPSByb29tcy5sZW5ndGjjgIJcbumSpeWMmSByb29tc1tpXVtqXSA9IHYg5Y+v5Lul5omT5byA57yW5Y+35Li6IHYg55qE5oi/6Ze044CCXG5cbuacgOWIne+8jOmZpCAwIOWPt+aIv+mXtOWklueahOWFtuS9meaJgOacieaIv+mXtOmDveiiq+mUgeS9j+OAglxuXG7kvaDlj6/ku6Xoh6rnlLHlnLDlnKjmiL/pl7TkuYvpl7TmnaXlm57otbDliqjjgIJcblxu5aaC5p6c6IO96L+b5YWl5q+P5Liq5oi/6Ze06L+U5ZueIHRydWXvvIzlkKbliJnov5Tlm54gZmFsc2XjgIJcblxu56S65L6LIDHvvJpcblxu6L6T5YWlOiBbWzFdLFsyXSxbM10sW11dXG7ovpPlh7o6IHRydWVcbuino+mHijpcbuaIkeS7rOS7jiAwIOWPt+aIv+mXtOW8gOWni++8jOaLv+WIsOmSpeWMmSAx44CCXG7kuYvlkI7miJHku6zljrsgMSDlj7fmiL/pl7TvvIzmi7/liLDpkqXljJkgMuOAglxu54S25ZCO5oiR5Lus5Y67IDIg5Y+35oi/6Ze077yM5ou/5Yiw6ZKl5YyZIDPjgIJcbuacgOWQjuaIkeS7rOWOu+S6hiAzIOWPt+aIv+mXtOOAglxu55Sx5LqO5oiR5Lus6IO95aSf6L+b5YWl5q+P5Liq5oi/6Ze077yM5oiR5Lus6L+U5ZueIHRydWXjgIJcbuekuuS+iyAy77yaXG5cbui+k+WFpe+8mltbMSwzXSxbMywwLDFdLFsyXSxbMF1dXG7ovpPlh7rvvJpmYWxzZVxu6Kej6YeK77ya5oiR5Lus5LiN6IO96L+b5YWlIDIg5Y+35oi/6Ze044CCXG7mj5DnpLrvvJpcblxuMSA8PSByb29tcy5sZW5ndGggPD0gMTAwMFxuMCA8PSByb29tc1tpXS5sZW5ndGggPD0gMTAwMFxu5omA5pyJ5oi/6Ze05Lit55qE6ZKl5YyZ5pWw6YeP5oC76K6h5LiN6LaF6L+HIDMwMDDjgIJcbiogKi9cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcltdW119IHJvb21zXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG52YXIgY2FuVmlzaXRBbGxSb29tcyA9IGZ1bmN0aW9uIChyb29tczogbnVtYmVyW11bXSkge1xuICAvLyBiZnNcbiAgbGV0IGxpc3Q6IG51bWJlcltdID0gW107XG4gIGNvbnN0IHNldDogU2V0PG51bWJlcj4gPSBuZXcgU2V0KCk7XG4gIGxldCByb29tX3Zpc2l0ZWQgPSAwO1xuICBsaXN0LnB1c2goMCk7XG4gIHdoaWxlIChsaXN0Lmxlbmd0aCkge1xuICAgIGNvbnN0IHJvb21fbnVtID0gbGlzdC5zaGlmdCgpITtcbiAgICBpZiAoc2V0Lmhhcyhyb29tX251bSkpIGNvbnRpbnVlO1xuXG4gICAgaWYgKHJvb21zW3Jvb21fbnVtXSkge1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KHJvb21zW3Jvb21fbnVtXSk7XG4gICAgICBzZXQuYWRkKHJvb21fbnVtKTtcbiAgICAgIHJvb21fdmlzaXRlZCsrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByb29tX3Zpc2l0ZWQgPT09IHJvb21zLmxlbmd0aDtcbn07XG5cbnZhciBjYW5WaXNpdEFsbFJvb21zMiA9IGZ1bmN0aW9uIChyb29tczogbnVtYmVyW11bXSkge1xuICAvLyBiZnNcbiAgbGV0IGxpc3Q6IG51bWJlcltdID0gW107XG4gIGNvbnN0IGNhY2hlOiBCb29sZWFuW10gPSBBcnJheShyb29tcy5sZW5ndGgpLmZpbGwoZmFsc2UpO1xuICBsZXQgcm9vbV92aXNpdGVkID0gMDtcbiAgbGlzdC5wdXNoKDApO1xuICB3aGlsZSAobGlzdC5sZW5ndGgpIHtcbiAgICBjb25zdCByb29tX251bSA9IGxpc3Quc2hpZnQoKSE7XG4gICAgaWYgKGNhY2hlW3Jvb21fbnVtXSkgY29udGludWU7XG5cbiAgICBpZiAocm9vbXNbcm9vbV9udW1dKSB7XG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQocm9vbXNbcm9vbV9udW1dKTtcbiAgICAgIGNhY2hlW3Jvb21fbnVtXSA9IHRydWU7XG4gICAgICByb29tX3Zpc2l0ZWQrKztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcm9vbV92aXNpdGVkID09PSByb29tcy5sZW5ndGg7XG59O1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gXCJhc3NlcnRcIjtcblxuYXNzZXJ0LnN0cmljdEVxdWFsKGNhblZpc2l0QWxsUm9vbXMoW1sxXSwgWzJdLCBbM10sIFtdXSksIHRydWUpO1xuYXNzZXJ0LnN0cmljdEVxdWFsKGNhblZpc2l0QWxsUm9vbXMoW1sxLCAzXSwgWzMsIDAsIDFdLCBbMl0sIFswXV0pLCBmYWxzZSk7XG5cbmFzc2VydC5zdHJpY3RFcXVhbChjYW5WaXNpdEFsbFJvb21zMihbWzFdLCBbMl0sIFszXSwgW11dKSwgdHJ1ZSk7XG5hc3NlcnQuc3RyaWN0RXF1YWwoY2FuVmlzaXRBbGxSb29tczIoW1sxLCAzXSwgWzMsIDAsIDFdLCBbMl0sIFswXV0pLCBmYWxzZSk7XG5cbmNvbnN0IEJlbmNobWFyayA9IHJlcXVpcmUoXCJiZW5jaG1hcmtcIik7XG5jb25zdCBzdWl0ZSA9IG5ldyBCZW5jaG1hcmsuU3VpdGUoKTtcblxuc3VpdGVcbiAgLmFkZChcInNldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgY2FuVmlzaXRBbGxSb29tcyhbXG4gICAgICBbMSwgM10sXG4gICAgICBbMywgMCwgMV0sXG4gICAgICBbMl0sXG4gICAgICBbMF0sXG4gICAgICBbMywgMCwgMV0sXG4gICAgICBbMywgMCwgMV0sXG4gICAgICBbMywgMCwgMV0sXG4gICAgICBbMywgMCwgMV0sXG4gICAgICBbMywgMCwgMV0sXG4gICAgICBbMywgMCwgMV0sXG4gICAgXSk7XG4gIH0pXG4gIC5hZGQoXCJhcnJheVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgY2FuVmlzaXRBbGxSb29tczIoW1xuICAgICAgWzEsIDNdLFxuICAgICAgWzMsIDAsIDFdLFxuICAgICAgWzJdLFxuICAgICAgWzBdLFxuICAgICAgWzMsIDAsIDFdLFxuICAgICAgWzMsIDAsIDFdLFxuICAgICAgWzMsIDAsIDFdLFxuICAgICAgWzMsIDAsIDFdLFxuICAgICAgWzMsIDAsIDFdLFxuICAgICAgWzMsIDAsIDFdLFxuICAgIF0pO1xuICB9KVxuXG4gIC8vIGFkZCBsaXN0ZW5lcnNcbiAgLm9uKFwiY3ljbGVcIiwgZnVuY3Rpb24gKGV2ZW50OiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZyhTdHJpbmcoZXZlbnQudGFyZ2V0KSk7XG4gIH0pXG4gIC5vbihcImNvbXBsZXRlXCIsIGZ1bmN0aW9uICh0aGlzOiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZyhcIkZhc3Rlc3QgaXMgXCIgKyB0aGlzLmZpbHRlcihcImZhc3Rlc3RcIikubWFwKFwibmFtZVwiKSk7XG4gIH0pXG4gIC8vIHJ1biBhc3luY1xuICAucnVuKHsgYXN5bmM6IGZhbHNlIH0pO1xuXG4vKipcbiAqIOern+eEtui/mOaYryBzZXQg55qE5b+r6YKj5LmI54K5Li4uLi4uXG4gKiAqL1xuIl19