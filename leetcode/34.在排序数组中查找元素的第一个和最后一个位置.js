"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/*
给定一个按照升序排列的整数数组 nums，和一个目标值 target。找出给定目标值在数组中的开始位置和结束位置。

你的算法时间复杂度必须是 O(log n) 级别。

如果数组中不存在目标值，返回 [-1, -1]。

示例 1:

输入: nums = [5,7,7,8,8,10], target = 8
输出: [3,4]
示例 2:

输入: nums = [5,7,7,8,8,10], target = 6
输出: [-1,-1]

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。
* */
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var searchRange = function (nums, target) {
    /**
     * 先用二分法 找到一个 等于target 的位置
     * */
    const index = getAnyTargetIndex(nums, target);
    if (index === -1)
        return [-1, -1];
    /**
     * 用两个二分法 分别找到左值 和 右值
     * */
    return [
        getLeftIndex(nums, target, index),
        getRightIndex(nums, target, index),
    ];
};
function getLeftIndex(nums, target, index) {
    let left = 0;
    let right = index;
    while (left < right) {
        /**
         * 二分法找到 mid 的值为 target 且 左侧的侧的值不是target 的 位置
         * */
        const mid = Math.floor((left + right) / 2);
        if (nums[mid] === target) {
            right = mid;
        }
        else {
            left = mid + 1;
        }
        // 不存在 nums[mid] > target 的情况
    }
    return left;
}
function getRightIndex(nums, target, index) {
    let left = index;
    let right = nums.length - 1;
    while (left < right) {
        /**
         * 二分法找到 mid 的值为 target 且 左侧的侧的值不是target 的 位置
         * */
        const mid = Math.ceil((left + right) / 2);
        if (nums[mid] === target) {
            left = mid;
        }
        else {
            right = mid - 1;
        }
        // 不存在 nums[mid] < target 的情况
    }
    return right;
}
function getAnyTargetIndex(nums, target) {
    let left = 0;
    let right = nums.length - 1;
    while (left <= right) {
        const mid = (right + left) >> 1;
        if (nums[mid] === target) {
            return mid;
        }
        else if (nums[mid] < target) {
            left = mid + 1;
        }
        else {
            right = mid - 1;
        }
    }
    return -1;
}
const assert_1 = __importDefault(require("assert"));
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 5, 0), 0);
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 8, 2), 2);
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 8, 3), 2);
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 8, 4), 2);
assert_1.default.deepStrictEqual(searchRange([5, 7, 7, 8, 8, 10], 8), [3, 4]);
assert_1.default.deepStrictEqual(searchRange([5, 7, 7, 8, 8, 10], 6), [-1, -1]);
assert_1.default.deepStrictEqual(searchRange([1], 1), [0, 0]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQu5Zyo5o6S5bqP5pWw57uE5Lit5p+l5om+5YWD57Sg55qE56ys5LiA5Liq5ZKM5pyA5ZCO5LiA5Liq5L2N572uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJsZWV0Y29kZS8zNC7lnKjmjpLluo/mlbDnu4TkuK3mn6Xmib7lhYPntKDnmoTnrKzkuIDkuKrlkozmnIDlkI7kuIDkuKrkvY3nva4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW1CSTtBQUNKOzs7O0dBSUc7QUFDSCxJQUFJLFdBQVcsR0FBRyxVQUFVLElBQWMsRUFBRSxNQUFjO0lBQ3REOztTQUVLO0lBQ0wsTUFBTSxLQUFLLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzlDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQztRQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xDOztTQUVLO0lBQ0wsT0FBTztRQUNILFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQztRQUNqQyxhQUFhLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUM7S0FDckMsQ0FBQztBQUVOLENBQUMsQ0FBQztBQUVGLFNBQVMsWUFBWSxDQUFDLElBQWMsRUFBRSxNQUFjLEVBQUUsS0FBYTtJQUMvRCxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7SUFDYixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDbEIsT0FBTyxJQUFJLEdBQUcsS0FBSyxFQUFFO1FBQ2pCOzthQUVLO1FBQ0wsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxNQUFNLEVBQUU7WUFDdEIsS0FBSyxHQUFHLEdB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LENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFDbkMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUNYLENBQUM7QUFFRixnQkFBTSxDQUFDLGVBQWUsQ0FDbEIsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQ25CLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUNULENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG7nu5nlrprkuIDkuKrmjInnhafljYfluo/mjpLliJfnmoTmlbTmlbDmlbDnu4QgbnVtc++8jOWSjOS4gOS4quebruagh+WAvCB0YXJnZXTjgILmib7lh7rnu5nlrprnm67moIflgLzlnKjmlbDnu4TkuK3nmoTlvIDlp4vkvY3nva7lkoznu5PmnZ/kvY3nva7jgIJcclxuXHJcbuS9oOeahOeul+azleaXtumXtOWkjeadguW6puW/hemhu+aYr8KgTyhsb2cgbikg57qn5Yir44CCXHJcblxyXG7lpoLmnpzmlbDnu4TkuK3kuI3lrZjlnKjnm67moIflgLzvvIzov5Tlm57CoFstMSwgLTFd44CCXHJcblxyXG7npLrkvosgMTpcclxuXHJcbui+k+WFpTogbnVtcyA9IFs1LDcsNyw4LDgsMTBdLCB0YXJnZXQgPSA4XHJcbui+k+WHujogWzMsNF1cclxu56S65L6LwqAyOlxyXG5cclxu6L6T5YWlOiBudW1zID0gWzUsNyw3LDgsOCwxMF0sIHRhcmdldCA9IDZcclxu6L6T5Ye6OiBbLTEsLTFdXHJcblxyXG7mnaXmupDvvJrlipvmiaPvvIhMZWV0Q29kZe+8iVxyXG7pk77mjqXvvJpodHRwczovL2xlZXRjb2RlLWNuLmNvbS9wcm9ibGVtcy9maW5kLWZpcnN0LWFuZC1sYXN0LXBvc2l0aW9uLW9mLWVsZW1lbnQtaW4tc29ydGVkLWFycmF5XHJcbuiRl+S9nOadg+W9kumihuaJo+e9kee7nOaJgOacieOAguWVhuS4mui9rOi9veivt+iBlOezu+WumOaWueaOiOadg++8jOmdnuWVhuS4mui9rOi9veivt+azqOaYjuWHuuWkhOOAglxyXG4qICovXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcltdfSBudW1zXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRcclxuICogQHJldHVybiB7bnVtYmVyW119XHJcbiAqL1xyXG52YXIgc2VhcmNoUmFuZ2UgPSBmdW5jdGlvbiAobnVtczogbnVtYmVyW10sIHRhcmdldDogbnVtYmVyKSB7XHJcbiAgICAvKipcclxuICAgICAqIOWFiOeUqOS6jOWIhuazlSDmib7liLDkuIDkuKog562J5LqOdGFyZ2V0IOeahOS9jee9rlxyXG4gICAgICogKi9cclxuICAgIGNvbnN0IGluZGV4ID0gZ2V0QW55VGFyZ2V0SW5kZXgobnVtcywgdGFyZ2V0KTtcclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBbLTEsIC0xXTtcclxuICAgIC8qKlxyXG4gICAgICog55So5Lik5Liq5LqM5YiG5rOVIOWIhuWIq+aJvuWIsOW3puWAvCDlkowg5Y+z5YC8XHJcbiAgICAgKiAqL1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICBnZXRMZWZ0SW5kZXgobnVtcywgdGFyZ2V0LCBpbmRleCksXHJcbiAgICAgICAgZ2V0UmlnaHRJbmRleChudW1zLCB0YXJnZXQsIGluZGV4KSxcclxuICAgIF07XHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0TGVmdEluZGV4KG51bXM6IG51bWJlcltdLCB0YXJnZXQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikge1xyXG4gICAgbGV0IGxlZnQgPSAwO1xyXG4gICAgbGV0IHJpZ2h0ID0gaW5kZXg7XHJcbiAgICB3aGlsZSAobGVmdCA8IHJpZ2h0KSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5LqM5YiG5rOV5om+5YiwIG1pZCDnmoTlgLzkuLogdGFyZ2V0IOS4lCDlt6bkvqfnmoTkvqfnmoTlgLzkuI3mmK90YXJnZXQg55qEIOS9jee9rlxyXG4gICAgICAgICAqICovXHJcbiAgICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xyXG4gICAgICAgIGlmIChudW1zW21pZF0gPT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICByaWdodCA9IG1pZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZWZ0ID0gbWlkICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5LiN5a2Y5ZyoIG51bXNbbWlkXSA+IHRhcmdldCDnmoTmg4XlhrVcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UmlnaHRJbmRleChudW1zOiBudW1iZXJbXSwgdGFyZ2V0OiBudW1iZXIsIGluZGV4OiBudW1iZXIpIHtcclxuICAgIGxldCBsZWZ0ID0gaW5kZXg7XHJcbiAgICBsZXQgcmlnaHQgPSBudW1zLmxlbmd0aCAtIDE7XHJcbiAgICB3aGlsZSAobGVmdCA8IHJpZ2h0KSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5LqM5YiG5rOV5om+5YiwIG1pZCDnmoTlgLzkuLogdGFyZ2V0IOS4lCDlt6bkvqfnmoTkvqfnmoTlgLzkuI3mmK90YXJnZXQg55qEIOS9jee9rlxyXG4gICAgICAgICAqICovXHJcbiAgICAgICAgY29uc3QgbWlkID0gTWF0aC5jZWlsKChsZWZ0ICsgcmlnaHQpIC8gMik7XHJcbiAgICAgICAgaWYgKG51bXNbbWlkXSA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGxlZnQgPSBtaWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmlnaHQgPSBtaWQgLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDkuI3lrZjlnKggbnVtc1ttaWRdIDwgdGFyZ2V0IOeahOaDheWGtVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJpZ2h0O1xyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldEFueVRhcmdldEluZGV4KG51bXM6IG51bWJlcltdLCB0YXJnZXQ6IG51bWJlcikge1xyXG4gICAgbGV0IGxlZnQgPSAwO1xyXG4gICAgbGV0IHJpZ2h0ID0gbnVtcy5sZW5ndGggLSAxO1xyXG4gICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHtcclxuICAgICAgICBjb25zdCBtaWQgPSAocmlnaHQgKyBsZWZ0KSA+PiAxO1xyXG4gICAgICAgIGlmIChudW1zW21pZF0gPT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWlkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtc1ttaWRdIDwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGxlZnQgPSBtaWQgKyAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJpZ2h0ID0gbWlkIC0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG5pbXBvcnQgYXNzZXJ0IGZyb20gXCJhc3NlcnRcIjtcclxuXHJcbmFzc2VydC5zdHJpY3RFcXVhbChcclxuICAgIGdldExlZnRJbmRleChbNSwgNywgOCwgOCwgOCwgMTBdLCA1LCAwKSxcclxuICAgIDAsXHJcbik7XHJcbmFzc2VydC5zdHJpY3RFcXVhbChcclxuICAgIGdldExlZnRJbmRleChbNSwgNywgOCwgOCwgOCwgMTBdLCA4LCAyKSxcclxuICAgIDIsXHJcbik7XHJcbmFzc2VydC5zdHJpY3RFcXVhbChcclxuICAgIGdldExlZnRJbmRleChbNSwgNywgOCwgOCwgOCwgMTBdLCA4LCAzKSxcclxuICAgIDIsXHJcbik7XHJcbmFzc2VydC5zdHJpY3RFcXVhbChcclxuICAgIGdldExlZnRJbmRleChbNSwgNywgOCwgOCwgOCwgMTBdLCA4LCA0KSxcclxuICAgIDIsXHJcbik7XHJcblxyXG5hc3NlcnQuZGVlcFN0cmljdEVxdWFsKFxyXG4gICAgc2VhcmNoUmFuZ2UoWzUsIDcsIDcsIDgsIDgsIDEwXSwgOCksXHJcbiAgICBbMywgNF0sXHJcbik7XHJcbmFzc2VydC5kZWVwU3RyaWN0RXF1YWwoXHJcbiAgICBzZWFyY2hSYW5nZShbNSwgNywgNywgOCwgOCwgMTBdLCA2KSxcclxuICAgIFstMSwgLTFdLFxyXG4pO1xyXG5cclxuYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChcclxuICAgIHNlYXJjaFJhbmdlKFsxXSwgMSksXHJcbiAgICBbMCwgMF0sXHJcbik7XHJcbiJdfQ==