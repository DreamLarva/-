"use strict";
var __importDefault =
  (this && this.__importDefault) ||
  function (mod) {
    return mod && mod.__esModule ? mod : { default: mod };
  };
Object.defineProperty(exports, "__esModule", { value: true });
/*
给定一个按照升序排列的整数数组 nums，和一个目标值 target。找出给定目标值在数组中的开始位置和结束位置。

你的算法时间复杂度必须是 O(log n) 级别。

如果数组中不存在目标值，返回 [-1, -1]。

示例 1:

输入: nums = [5,7,7,8,8,10], target = 8
输出: [3,4]
示例 2:

输入: nums = [5,7,7,8,8,10], target = 6
输出: [-1,-1]

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。
* */
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var searchRange = function (nums, target) {
  /**
   * 先用二分法 找到一个 等于target 的位置
   * */
  const index = getAnyTargetIndex(nums, target);
  if (index === -1) return [-1, -1];
  /**
   * 用两个二分法 分别找到左值 和 右值
   * */
  return [
    getLeftIndex(nums, target, index),
    getRightIndex(nums, target, index),
  ];
};
function getLeftIndex(nums, target, index) {
  let left = 0;
  let right = index;
  while (left < right) {
    /**
     * 二分法找到 mid 的值为 target 且 左侧的侧的值不是target 的 位置
     * */
    const mid = Math.floor((left + right) / 2);
    if (nums[mid] === target) {
      right = mid;
    } else {
      left = mid + 1;
    }
    // 不存在 nums[mid] > target 的情况
  }
  return left;
}
function getRightIndex(nums, target, index) {
  let left = index;
  let right = nums.length - 1;
  while (left < right) {
    /**
     * 二分法找到 mid 的值为 target 且 左侧的侧的值不是target 的 位置
     * */
    const mid = Math.ceil((left + right) / 2);
    if (nums[mid] === target) {
      left = mid;
    } else {
      right = mid - 1;
    }
    // 不存在 nums[mid] < target 的情况
  }
  return right;
}
function getAnyTargetIndex(nums, target) {
  let left = 0;
  let right = nums.length - 1;
  while (left <= right) {
    const mid = (right + left) >> 1;
    if (nums[mid] === target) {
      return mid;
    } else if (nums[mid] < target) {
      left = mid + 1;
    } else {
      right = mid - 1;
    }
  }
  return -1;
}
const assert_1 = __importDefault(require("assert"));
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 5, 0), 0);
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 8, 2), 2);
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 8, 3), 2);
assert_1.default.strictEqual(getLeftIndex([5, 7, 8, 8, 8, 10], 8, 4), 2);
assert_1.default.deepStrictEqual(searchRange([5, 7, 7, 8, 8, 10], 8), [3, 4]);
assert_1.default.deepStrictEqual(searchRange([5, 7, 7, 8, 8, 10], 6), [-1, -1]);
assert_1.default.deepStrictEqual(searchRange([1], 1), [0, 0]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQu5Zyo5o6S5bqP5pWw57uE5Lit5p+l5om+5YWD57Sg55qE56ys5LiA5Liq5ZKM5pyA5ZCO5LiA5Liq5L2N572uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJsZWV0Y29kZS8zNC7lnKjmjpLluo/mlbDnu4TkuK3mn6Xmib7lhYPntKDnmoTnrKzkuIDkuKrlkozmnIDlkI7kuIDkuKrkvY3nva4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW1CSTtBQUNKOzs7O0dBSUc7QUFDSCxJQUFJLFdBQVcsR0FBRyxVQUFVLElBQWMsRUFBRSxNQUFjO0lBQ3REOztTQUVLO0lBQ0wsTUFBTSxLQUFLLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzlDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQztRQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xDOztTQUVLO0lBQ0wsT0FBTztRQUNILFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQztRQUNqQyxhQUFhLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUM7S0FDckMsQ0FBQztBQUVOLENBQUMsQ0FBQztBQUVGLFNBQVMsWUFBWSxDQUFDLElBQWMsRUFBRSxNQUFjLEVBQUUsS0FBYTtJQUMvRCxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7SUFDYixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDbEIsT0FBTyxJQUFJLEdBQUcsS0FBSyxFQUFFO1FBQ2pCOzthQUVLO1FBQ0wsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxNQUFNLEVBQUU7WUFDdEIsS0FBSyxHQUFHLEdB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LENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFDbkMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUNYLENBQUM7QUFFRixnQkFBTSxDQUFDLGVBQWUsQ0FDbEIsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQ25CLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUNULENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxu57uZ5a6a5LiA5Liq5oyJ54Wn5Y2H5bqP5o6S5YiX55qE5pW05pWw5pWw57uEIG51bXPvvIzlkozkuIDkuKrnm67moIflgLwgdGFyZ2V044CC5om+5Ye657uZ5a6a55uu5qCH5YC85Zyo5pWw57uE5Lit55qE5byA5aeL5L2N572u5ZKM57uT5p2f5L2N572u44CCXG5cbuS9oOeahOeul+azleaXtumXtOWkjeadguW6puW/hemhu+aYr8KgTyhsb2cgbikg57qn5Yir44CCXG5cbuWmguaenOaVsOe7hOS4reS4jeWtmOWcqOebruagh+WAvO+8jOi/lOWbnsKgWy0xLCAtMV3jgIJcblxu56S65L6LIDE6XG5cbui+k+WFpTogbnVtcyA9IFs1LDcsNyw4LDgsMTBdLCB0YXJnZXQgPSA4XG7ovpPlh7o6IFszLDRdXG7npLrkvovCoDI6XG5cbui+k+WFpTogbnVtcyA9IFs1LDcsNyw4LDgsMTBdLCB0YXJnZXQgPSA2XG7ovpPlh7o6IFstMSwtMV1cblxu5p2l5rqQ77ya5Yqb5omj77yITGVldENvZGXvvIlcbumTvuaOpe+8mmh0dHBzOi8vbGVldGNvZGUtY24uY29tL3Byb2JsZW1zL2ZpbmQtZmlyc3QtYW5kLWxhc3QtcG9zaXRpb24tb2YtZWxlbWVudC1pbi1zb3J0ZWQtYXJyYXlcbuiRl+S9nOadg+W9kumihuaJo+e9kee7nOaJgOacieOAguWVhuS4mui9rOi9veivt+iBlOezu+WumOaWueaOiOadg++8jOmdnuWVhuS4mui9rOi9veivt+azqOaYjuWHuuWkhOOAglxuKiAqL1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcltdfSBudW1zXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0XG4gKiBAcmV0dXJuIHtudW1iZXJbXX1cbiAqL1xudmFyIHNlYXJjaFJhbmdlID0gZnVuY3Rpb24gKG51bXM6IG51bWJlcltdLCB0YXJnZXQ6IG51bWJlcikge1xuICAgIC8qKlxuICAgICAqIOWFiOeUqOS6jOWIhuazlSDmib7liLDkuIDkuKog562J5LqOdGFyZ2V0IOeahOS9jee9rlxuICAgICAqICovXG4gICAgY29uc3QgaW5kZXggPSBnZXRBbnlUYXJnZXRJbmRleChudW1zLCB0YXJnZXQpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBbLTEsIC0xXTtcbiAgICAvKipcbiAgICAgKiDnlKjkuKTkuKrkuozliIbms5Ug5YiG5Yir5om+5Yiw5bem5YC8IOWSjCDlj7PlgLxcbiAgICAgKiAqL1xuICAgIHJldHVybiBbXG4gICAgICAgIGdldExlZnRJbmRleChudW1zLCB0YXJnZXQsIGluZGV4KSxcbiAgICAgICAgZ2V0UmlnaHRJbmRleChudW1zLCB0YXJnZXQsIGluZGV4KSxcbiAgICBdO1xuXG59O1xuXG5mdW5jdGlvbiBnZXRMZWZ0SW5kZXgobnVtczogbnVtYmVyW10sIHRhcmdldDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSB7XG4gICAgbGV0IGxlZnQgPSAwO1xuICAgIGxldCByaWdodCA9IGluZGV4O1xuICAgIHdoaWxlIChsZWZ0IDwgcmlnaHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIOS6jOWIhuazleaJvuWIsCBtaWQg55qE5YC85Li6IHRhcmdldCDkuJQg5bem5L6n55qE5L6n55qE5YC85LiN5pivdGFyZ2V0IOeahCDkvY3nva5cbiAgICAgICAgICogKi9cbiAgICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xuICAgICAgICBpZiAobnVtc1ttaWRdID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJpZ2h0ID0gbWlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVmdCA9IG1pZCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8g5LiN5a2Y5ZyoIG51bXNbbWlkXSA+IHRhcmdldCDnmoTmg4XlhrVcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG5cbn1cblxuZnVuY3Rpb24gZ2V0UmlnaHRJbmRleChudW1zOiBudW1iZXJbXSwgdGFyZ2V0OiBudW1iZXIsIGluZGV4OiBudW1iZXIpIHtcbiAgICBsZXQgbGVmdCA9IGluZGV4O1xuICAgIGxldCByaWdodCA9IG51bXMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAobGVmdCA8IHJpZ2h0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiDkuozliIbms5Xmib7liLAgbWlkIOeahOWAvOS4uiB0YXJnZXQg5LiUIOW3puS+p+eahOS+p+eahOWAvOS4jeaYr3RhcmdldCDnmoQg5L2N572uXG4gICAgICAgICAqICovXG4gICAgICAgIGNvbnN0IG1pZCA9IE1hdGguY2VpbCgobGVmdCArIHJpZ2h0KSAvIDIpO1xuICAgICAgICBpZiAobnVtc1ttaWRdID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBtaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByaWdodCA9IG1pZCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8g5LiN5a2Y5ZyoIG51bXNbbWlkXSA8IHRhcmdldCDnmoTmg4XlhrVcbiAgICB9XG4gICAgcmV0dXJuIHJpZ2h0O1xuXG59XG5cblxuZnVuY3Rpb24gZ2V0QW55VGFyZ2V0SW5kZXgobnVtczogbnVtYmVyW10sIHRhcmdldDogbnVtYmVyKSB7XG4gICAgbGV0IGxlZnQgPSAwO1xuICAgIGxldCByaWdodCA9IG51bXMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgICAgICBjb25zdCBtaWQgPSAocmlnaHQgKyBsZWZ0KSA+PiAxO1xuICAgICAgICBpZiAobnVtc1ttaWRdID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBtaWQ7XG4gICAgICAgIH0gZWxzZSBpZiAobnVtc1ttaWRdIDwgdGFyZ2V0KSB7XG4gICAgICAgICAgICBsZWZ0ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJpZ2h0ID0gbWlkIC0gMTtcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCI7XG5cbmFzc2VydC5zdHJpY3RFcXVhbChcbiAgICBnZXRMZWZ0SW5kZXgoWzUsIDcsIDgsIDgsIDgsIDEwXSwgNSwgMCksXG4gICAgMCxcbik7XG5hc3NlcnQuc3RyaWN0RXF1YWwoXG4gICAgZ2V0TGVmdEluZGV4KFs1LCA3LCA4LCA4LCA4LCAxMF0sIDgsIDIpLFxuICAgIDIsXG4pO1xuYXNzZXJ0LnN0cmljdEVxdWFsKFxuICAgIGdldExlZnRJbmRleChbNSwgNywgOCwgOCwgOCwgMTBdLCA4LCAzKSxcbiAgICAyLFxuKTtcbmFzc2VydC5zdHJpY3RFcXVhbChcbiAgICBnZXRMZWZ0SW5kZXgoWzUsIDcsIDgsIDgsIDgsIDEwXSwgOCwgNCksXG4gICAgMixcbik7XG5cbmFzc2VydC5kZWVwU3RyaWN0RXF1YWwoXG4gICAgc2VhcmNoUmFuZ2UoWzUsIDcsIDcsIDgsIDgsIDEwXSwgOCksXG4gICAgWzMsIDRdLFxuKTtcbmFzc2VydC5kZWVwU3RyaWN0RXF1YWwoXG4gICAgc2VhcmNoUmFuZ2UoWzUsIDcsIDcsIDgsIDgsIDEwXSwgNiksXG4gICAgWy0xLCAtMV0sXG4pO1xuXG5hc3NlcnQuZGVlcFN0cmljdEVxdWFsKFxuICAgIHNlYXJjaFJhbmdlKFsxXSwgMSksXG4gICAgWzAsIDBdLFxuKTtcbiJdfQ==
