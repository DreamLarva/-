"use strict";
/*
面试题 08.03. 魔术索引
魔术索引。 在数组A[0...n-1]中，有所谓的魔术索引，满足条件A[i] = i。
给定一个有序整数数组，编写一种方法找出魔术索引，若有的话，在数组A中找出一个魔术索引，
如果没有，则返回-1。若有多个魔术索引，返回索引值最小的一个。

示例1:

 输入：nums = [0, 2, 3, 4, 5]
 输出：0
 说明: 0下标的元素为0
示例2:

 输入：nums = [1, 1, 1]
 输出：1
说明:

此题为原书中的 Follow-up，即数组中可能包含重复元素的版本
提示:

nums长度在[1, 1000000]之间
* */
var __importDefault =
  (this && this.__importDefault) ||
  function (mod) {
    return mod && mod.__esModule ? mod : { default: mod };
  };
Object.defineProperty(exports, "__esModule", { value: true });
function findMagicIndex(nums) {
  return step(nums, 0, nums.length);
  /**
   * 因为是有序数组 当然可以使用二分法求解
   * 因为可能出现 相同的值 所以可能最坏情况 效率还不如直接 迭代的快
   * */
  function step(nums, left, right) {
    if (left === nums[left]) return left;
    if (left >= right) return -1;
    const mid = left + Math.floor((right - left) / 2);
    // 由于可能有相同的元素 所以 判断mid 的条件只能用来剪枝
    // 如果mid 符合跪着 说明 结果只可能在 包含mid 的左侧
    const isMidMeetCondition = nums[mid] === mid;
    const leftResult = step(nums, left, mid);
    return isMidMeetCondition
      ? leftResult
      : leftResult === -1
      ? step(nums, mid + 1, right)
      : leftResult;
  }
}
const assert_1 = __importDefault(require("assert"));
assert_1.default.strictEqual(findMagicIndex([0, 2, 3, 4, 5]), 0);
assert_1.default.strictEqual(findMagicIndex([1, 1, 1]), 1);
assert_1.default.strictEqual(
  findMagicIndex([
    -531369933, -469065528, -430059048, -428981853, -319235969, -288076332,
    -286667432, -282312559, -197049680, -197022263, -174416117, -138027773,
    -121899023, -111631966, -107567458, -70437707, -52463072, -45519851,
    -38641451, -15825815, -3835472, -1525043, 22, 566842886, 593757472,
    605439236, 619794079, 640069993, 657657758, 718772950, 815849552, 839357142,
    936585256, 1006188278, 1042347147, 1057129320, 1062178586, 1069769438,
  ]),
  22
);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoi6Z2i6K+V6aKYMDguMDMu6a2U5pyv57Si5byVLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJsZWV0Y29kZS/pnaLor5XpopgwOC4wMy7prZTmnK/ntKLlvJUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFxQkk7Ozs7O0FBRUosU0FBUyxjQUFjLENBQUMsSUFBYztJQUNwQyxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVsQzs7O1NBR0s7SUFDTCxTQUFTLElBQUksQ0FBQyxJQUFjLEVBQUUsSUFBWSxFQUFFLEtBQWE7UUFDdkQsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQ3JDLElBQUksSUFBSSxJQUFJLEtBQUs7WUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWxELGdDQUFnQztRQUNoQyxpQ0FBaUM7UUFDakMsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDO1FBQzdDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRXpDLE9BQU8sa0JBQWtCO1lBQ3ZCLENBQUMsQ0FBQyxVQUFVO1lBQ1osQ0FBQyxDQUFDLFVBQVUsS0FBSyxDQUFDLENBQUM7Z0JBQ25CLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDO2dCQUM1QixDQUFDLENBQUMsVUFBVSxDQUFDO0lBQ2pCLENBQUM7QUFDSCxDQUFDO0FBRUQsb0RBQTRCO0FBRTVCLGdCQUFNLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELGdCQUFNLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNqRCxnQkFBTSxDQUFDLFdBQVcsQ0FDaEIsY0FBYyxDQUFDO0lBQ2IsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxTQUFTO0lBQ1YsQ0FBQyxRQUFRO0lBQ1QsQ0FBQyxRQUFRO0lBQ1QsQ0FBQyxRQUFRO0lBQ1QsQ0FBQyxRQUFRO0lBQ1QsQ0FBQyxRQUFRO0lBQ1QsQ0FBQyxPQUFPO0lBQ1IsQ0FBQyxPQUFPO0lBQ1IsRUFBRTtJQUNGLFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxVQUFVO0lBQ1YsVUFBVTtJQUNWLFVBQVU7SUFDVixVQUFVO0lBQ1YsVUFBVTtDQUNYLENBQUMsRUFDRixFQUFFLENBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG7pnaLor5XpopggMDguMDMuIOmtlOacr+e0ouW8lVxu6a2U5pyv57Si5byV44CCIOWcqOaVsOe7hEFbMC4uLm4tMV3kuK3vvIzmnInmiYDosJPnmoTprZTmnK/ntKLlvJXvvIzmu6HotrPmnaHku7ZBW2ldID0gaeOAglxu57uZ5a6a5LiA5Liq5pyJ5bqP5pW05pWw5pWw57uE77yM57yW5YaZ5LiA56eN5pa55rOV5om+5Ye66a2U5pyv57Si5byV77yM6Iul5pyJ55qE6K+d77yM5Zyo5pWw57uEQeS4reaJvuWHuuS4gOS4qumtlOacr+e0ouW8le+8jFxu5aaC5p6c5rKh5pyJ77yM5YiZ6L+U5ZueLTHjgILoi6XmnInlpJrkuKrprZTmnK/ntKLlvJXvvIzov5Tlm57ntKLlvJXlgLzmnIDlsI/nmoTkuIDkuKrjgIJcblxu56S65L6LMTpcblxuIOi+k+WFpe+8mm51bXMgPSBbMCwgMiwgMywgNCwgNV1cbiDovpPlh7rvvJowXG4g6K+05piOOiAw5LiL5qCH55qE5YWD57Sg5Li6MFxu56S65L6LMjpcblxuIOi+k+WFpe+8mm51bXMgPSBbMSwgMSwgMV1cbiDovpPlh7rvvJoxXG7or7TmmI46XG5cbuatpOmimOS4uuWOn+S5puS4reeahCBGb2xsb3ctdXDvvIzljbPmlbDnu4TkuK3lj6/og73ljIXlkKvph43lpI3lhYPntKDnmoTniYjmnKxcbuaPkOekujpcblxubnVtc+mVv+W6puWcqFsxLCAxMDAwMDAwXeS5i+mXtFxuKiAqL1xuXG5mdW5jdGlvbiBmaW5kTWFnaWNJbmRleChudW1zOiBudW1iZXJbXSk6IG51bWJlciB7XG4gIHJldHVybiBzdGVwKG51bXMsIDAsIG51bXMubGVuZ3RoKTtcblxuICAvKipcbiAgICog5Zug5Li65piv5pyJ5bqP5pWw57uEIOW9k+eEtuWPr+S7peS9v+eUqOS6jOWIhuazleaxguino1xuICAgKiDlm6DkuLrlj6/og73lh7rnjrAg55u45ZCM55qE5YC8IOaJgOS7peWPr+iDveacgOWdj+aDheWGtSDmlYjnjofov5jkuI3lpoLnm7TmjqUg6L+t5Luj55qE5b+rXG4gICAqICovXG4gIGZ1bmN0aW9uIHN0ZXAobnVtczogbnVtYmVyW10sIGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKGxlZnQgPT09IG51bXNbbGVmdF0pIHJldHVybiBsZWZ0O1xuICAgIGlmIChsZWZ0ID49IHJpZ2h0KSByZXR1cm4gLTE7XG4gICAgY29uc3QgbWlkID0gbGVmdCArIE1hdGguZmxvb3IoKHJpZ2h0IC0gbGVmdCkgLyAyKTtcblxuICAgIC8vIOeUseS6juWPr+iDveacieebuOWQjOeahOWFg+e0oCDmiYDku6Ug5Yik5patbWlkIOeahOadoeS7tuWPquiDveeUqOadpeWJquaenVxuICAgIC8vIOWmguaenG1pZCDnrKblkIjot6rnnYAg6K+05piOIOe7k+aenOWPquWPr+iDveWcqCDljIXlkKttaWQg55qE5bem5L6nXG4gICAgY29uc3QgaXNNaWRNZWV0Q29uZGl0aW9uID0gbnVtc1ttaWRdID09PSBtaWQ7XG4gICAgY29uc3QgbGVmdFJlc3VsdCA9IHN0ZXAobnVtcywgbGVmdCwgbWlkKTtcblxuICAgIHJldHVybiBpc01pZE1lZXRDb25kaXRpb25cbiAgICAgID8gbGVmdFJlc3VsdFxuICAgICAgOiBsZWZ0UmVzdWx0ID09PSAtMVxuICAgICAgPyBzdGVwKG51bXMsIG1pZCArIDEsIHJpZ2h0KVxuICAgICAgOiBsZWZ0UmVzdWx0O1xuICB9XG59XG5cbmltcG9ydCBhc3NlcnQgZnJvbSBcImFzc2VydFwiO1xuXG5hc3NlcnQuc3RyaWN0RXF1YWwoZmluZE1hZ2ljSW5kZXgoWzAsIDIsIDMsIDQsIDVdKSwgMCk7XG5hc3NlcnQuc3RyaWN0RXF1YWwoZmluZE1hZ2ljSW5kZXgoWzEsIDEsIDFdKSwgMSk7XG5hc3NlcnQuc3RyaWN0RXF1YWwoXG4gIGZpbmRNYWdpY0luZGV4KFtcbiAgICAtNTMxMzY5OTMzLFxuICAgIC00NjkwNjU1MjgsXG4gICAgLTQzMDA1OTA0OCxcbiAgICAtNDI4OTgxODUzLFxuICAgIC0zMTkyMzU5NjksXG4gICAgLTI4ODA3NjMzMixcbiAgICAtMjg2NjY3NDMyLFxuICAgIC0yODIzMTI1NTksXG4gICAgLTE5NzA0OTY4MCxcbiAgICAtMTk3MDIyMjYzLFxuICAgIC0xNzQ0MTYxMTcsXG4gICAgLTEzODAyNzc3MyxcbiAgICAtMTIxODk5MDIzLFxuICAgIC0xMTE2MzE5NjYsXG4gICAgLTEwNzU2NzQ1OCxcbiAgICAtNzA0Mzc3MDcsXG4gICAgLTUyNDYzMDcyLFxuICAgIC00NTUxOTg1MSxcbiAgICAtMzg2NDE0NTEsXG4gICAgLTE1ODI1ODE1LFxuICAgIC0zODM1NDcyLFxuICAgIC0xNTI1MDQzLFxuICAgIDIyLFxuICAgIDU2Njg0Mjg4NixcbiAgICA1OTM3NTc0NzIsXG4gICAgNjA1NDM5MjM2LFxuICAgIDYxOTc5NDA3OSxcbiAgICA2NDAwNjk5OTMsXG4gICAgNjU3NjU3NzU4LFxuICAgIDcxODc3Mjk1MCxcbiAgICA4MTU4NDk1NTIsXG4gICAgODM5MzU3MTQyLFxuICAgIDkzNjU4NTI1NixcbiAgICAxMDA2MTg4Mjc4LFxuICAgIDEwNDIzNDcxNDcsXG4gICAgMTA1NzEyOTMyMCxcbiAgICAxMDYyMTc4NTg2LFxuICAgIDEwNjk3Njk0MzgsXG4gIF0pLFxuICAyMlxuKTtcbiJdfQ==
